"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[733],{208:function(e,t,i){i.d(t,{Z:function(){return p}});var a=i(57437),s=i(2265),l=i(10273),n=i(56360),r=i(79004),o=i(11980),c=i(33907),d=i(957),u=i(27776),m=i(6657),x=i(87138);let f=[{value:"240p",label:"240p",description:"426\xd7240"},{value:"360p",label:"360p",description:"640\xd7360"},{value:"480p",label:"480p",description:"854\xd7480"},{value:"720p",label:"720p HD",description:"1280\xd7720",premium:!0},{value:"1080p",label:"1080p Full HD",description:"1920\xd71080",premium:!0},{value:"1440p",label:"1440p 2K",description:"2560\xd71440",premium:!0},{value:"4K",label:"4K Ultra HD",description:"3840\xd72160",premium:!0}];function p(e){let{weddingId:t,isPremium:i}=e,[p,h]=(0,s.useState)(!1),[v,g]=(0,s.useState)(null),[b,y]=(0,s.useState)("480p"),[j,N]=(0,s.useState)("480p");(0,s.useEffect)(()=>{w()},[t]);let w=async()=>{try{let e=(await m.default.get("/api/streams/quality/".concat(t))).data;g(e),y(e.live_quality),N(e.recording_quality)}catch(e){console.error("Error loading quality settings:",e)}},k=async()=>{try{h(!0),await m.default.post("/api/streams/quality/update",{wedding_id:t,live_quality:b,recording_quality:j}),u.toast.success("Quality settings updated successfully!"),w()}catch(t){var e,i;console.error("Error updating quality:",t),u.toast.error((null===(i=t.response)||void 0===i?void 0:null===(e=i.data)||void 0===e?void 0:e.detail)||"Failed to update quality settings")}finally{h(!1)}},_=e=>!!v&&v.allowed_live_qualities.includes(e);return v?(0,a.jsxs)(l.Zb,{children:[(0,a.jsxs)(l.Ol,{children:[(0,a.jsxs)(l.ll,{className:"flex items-center gap-2",children:[(0,a.jsx)(c.Z,{className:"w-5 h-5"}),"Stream Quality Control"]}),(0,a.jsx)(l.SZ,{children:"Configure live streaming and recording quality"})]}),(0,a.jsxs)(l.aY,{className:"space-y-6",children:[!v.is_premium&&(0,a.jsxs)(o.bZ,{children:[(0,a.jsx)(d.Z,{className:"h-4 w-4"}),(0,a.jsxs)(o.X,{children:[v.message,(0,a.jsx)(x.default,{href:"/pricing",className:"font-semibold underline ml-1",children:"Upgrade Now"})]})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("label",{className:"text-sm font-medium",children:"Live Streaming Quality"}),(0,a.jsx)(r.C,{children:b})]}),(0,a.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2",children:f.map(e=>{let t=_(e.value),i=b===e.value;return(0,a.jsxs)("button",{onClick:()=>t&&y(e.value),disabled:!t,className:"\n                    relative p-3 rounded-lg border-2 text-left transition-all\n                    ".concat(i?"border-rose-500 bg-rose-50":t?"border-gray-200 hover:border-rose-300 hover:bg-rose-50/50":"border-gray-100 bg-gray-50 opacity-50 cursor-not-allowed","\n                  "),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,a.jsx)("span",{className:"font-semibold text-sm",children:e.label}),e.premium&&!v.is_premium&&(0,a.jsx)(d.Z,{className:"w-3 h-3 text-yellow-500"})]}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:e.description})]},e.value)})})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("label",{className:"text-sm font-medium",children:"Recording Quality"}),(0,a.jsx)(r.C,{variant:"secondary",children:j})]}),(0,a.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2",children:f.map(e=>{let t=_(e.value),i=j===e.value,s=f.findIndex(e=>e.value===b),l=f.findIndex(t=>t.value===e.value)>s;return(0,a.jsxs)("button",{onClick:()=>t&&!l&&N(e.value),disabled:!t||l,className:"\n                    relative p-3 rounded-lg border-2 text-left transition-all\n                    ".concat(i?"border-purple-500 bg-purple-50":t&&!l?"border-gray-200 hover:border-purple-300 hover:bg-purple-50/50":"border-gray-100 bg-gray-50 opacity-50 cursor-not-allowed","\n                  "),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,a.jsx)("span",{className:"font-semibold text-sm",children:e.label}),e.premium&&!v.is_premium&&(0,a.jsx)(d.Z,{className:"w-3 h-3 text-yellow-500"})]}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:e.description}),l&&t&&(0,a.jsx)("p",{className:"text-xs text-red-500 mt-1",children:"Exceeds live quality"})]},e.value)})}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"Recording quality cannot exceed live streaming quality"})]}),(0,a.jsx)(n.z,{onClick:k,disabled:p,className:"w-full",children:p?"Updating...":"Save Quality Settings"}),(0,a.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:(0,a.jsxs)("p",{className:"text-xs text-blue-800",children:[(0,a.jsx)("strong",{children:"Tip:"})," Higher quality requires more bandwidth. Test your connection before going live with 4K."]})})]})]}):(0,a.jsx)(l.Zb,{children:(0,a.jsx)(l.aY,{className:"py-8",children:(0,a.jsx)("p",{className:"text-center text-gray-500",children:"Loading quality settings..."})})})}},33266:function(e,t,i){i.d(t,{Z:function(){return b}});var a=i(57437),s=i(2265),l=i(71229),n=i(45348),r=i(23395),o=i(38733),c=i(87720),d=i(35820),u=i(74697),m=i(70518),x=i(24841),f=i(98094),p=i(87592),h=i(56360);i(85398);let v={none:{initial:{opacity:1},animate:{opacity:1},exit:{opacity:0},transition:{duration:0}},fade:{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:1}},wipe_left:{initial:{clipPath:"inset(0 0 0 100%)"},animate:{clipPath:"inset(0 0 0 0%)"},exit:{zIndex:0},transition:{duration:1,ease:"easeInOut"}},wipe_right:{initial:{clipPath:"inset(0 100% 0 0)"},animate:{clipPath:"inset(0 0 0 0%)"},exit:{zIndex:0},transition:{duration:1,ease:"easeInOut"}},zoom_in:{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},exit:{scale:1.5,opacity:0},transition:{duration:1}}},g={none:{animate:{scale:1,x:0,y:0},transition:{duration:0}},ken_burns:{initial:{scale:1.1},animate:{scale:1.3,x:["0%","-5%","5%","0%"],y:["0%","5%","-5%","0%"]},transition:{duration:10,ease:"linear",repeat:1/0,repeatType:"mirror"}},random:{}};function b(e){let{album:t,onClose:i,autoPlay:b=!0}=e,[y,j]=(0,s.useState)(0),[N,w]=(0,s.useState)(b),[k,_]=(0,s.useState)(!1),[z,Z]=(0,s.useState)(!1),[q,C]=(0,s.useState)(0),S=(0,s.useRef)(null),E=(0,s.useRef)(null),R=(0,s.useRef)(null),I=(0,s.useRef)(null),Q=t.slides||[],T=Q[y];Q.reduce((e,t)=>e+(t.duration||5),0),(0,s.useEffect)(()=>{if(N){let e=1e3*((null==T?void 0:T.duration)||5);I.current=Date.now(),R.current=setTimeout(()=>{D()},e)}return()=>{R.current&&clearTimeout(R.current)}},[y,N]),(0,s.useEffect)(()=>{E.current&&(N?E.current.play().catch(e=>console.log("Audio play failed (interaction needed)",e)):E.current.pause(),E.current.muted=k)},[N,k]);let D=()=>{j(e=>(e+1)%Q.length)},P=v[(null==T?void 0:T.transition)||"fade"]||v.fade,U=(null==T?void 0:T.transition_duration)||1,V=(null==T?void 0:T.animation)||"none",A=g[V]||g.none;"random"===V&&(A=g.ken_burns);let F={...P,transition:{...P.transition,duration:U}};return T?(0,a.jsxs)(l.E.div,{ref:S,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black flex items-center justify-center overflow-hidden group",children:[t.music_url&&(0,a.jsx)("audio",{ref:E,src:t.music_url,loop:!0}),(0,a.jsx)("div",{className:"relative w-full h-full flex items-center justify-center",children:(0,a.jsx)(n.M,{mode:"popLayout",initial:!1,children:(0,a.jsx)(l.E.div,{variants:F,initial:"initial",animate:"animate",exit:"exit",className:"absolute inset-0 w-full h-full",style:{zIndex:10},children:(0,a.jsxs)("div",{className:"w-full h-full overflow-hidden relative",children:[(0,a.jsx)(l.E.img,{src:T.media_url,alt:"",className:"w-full h-full object-contain bg-black",variants:A,transition:{duration:(T.duration||5)+U,ease:"linear"}}),T.caption&&(0,a.jsx)("div",{className:"absolute bottom-20 left-0 right-0 text-center z-20 px-4",children:(0,a.jsx)(l.E.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"inline-block bg-black/50 backdrop-blur-sm text-white px-4 py-2 rounded-lg text-lg font-medium",children:T.caption})})]})},y)})}),(0,a.jsxs)("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none flex flex-col justify-between p-4 z-50",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start pointer-events-auto",children:[(0,a.jsxs)("div",{className:"bg-black/40 backdrop-blur-md rounded-lg p-2 text-white",children:[(0,a.jsx)("h3",{className:"font-bold",children:t.title}),(0,a.jsxs)("p",{className:"text-xs opacity-75",children:[y+1," / ",Q.length]})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(h.z,{variant:"ghost",size:"icon",className:"text-white hover:bg-white/20",onClick:()=>_(!k),children:k?(0,a.jsx)(r.Z,{}):(0,a.jsx)(o.Z,{})}),(0,a.jsx)(h.z,{variant:"ghost",size:"icon",className:"text-white hover:bg-white/20",onClick:()=>{document.fullscreenElement?(document.exitFullscreen(),Z(!1)):(S.current.requestFullscreen().catch(e=>console.error(e)),Z(!0))},children:z?(0,a.jsx)(c.Z,{}):(0,a.jsx)(d.Z,{})}),(0,a.jsx)(h.z,{variant:"ghost",size:"icon",className:"text-white hover:bg-white/20 hover:text-red-500",onClick:i,children:(0,a.jsx)(u.Z,{})})]})]}),(0,a.jsx)("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:(0,a.jsx)("div",{className:"pointer-events-auto"})}),(0,a.jsxs)("div",{className:"pointer-events-auto bg-black/60 backdrop-blur-md rounded-xl p-3 mb-4 mx-auto w-full max-w-2xl flex items-center gap-4",children:[(0,a.jsx)(h.z,{variant:"ghost",size:"icon",className:"text-white hover:bg-white/20",onClick:()=>{j(e=>(e-1+Q.length)%Q.length)},children:(0,a.jsx)(m.Z,{})}),(0,a.jsx)(h.z,{variant:"ghost",size:"icon",className:"text-white hover:bg-white/20 h-12 w-12 rounded-full border border-white/20",onClick:()=>w(!N),children:N?(0,a.jsx)(x.Z,{className:"fill-white"}):(0,a.jsx)(f.Z,{className:"fill-white ml-1"})}),(0,a.jsx)(h.z,{variant:"ghost",size:"icon",className:"text-white hover:bg-white/20",onClick:D,children:(0,a.jsx)(p.Z,{})}),(0,a.jsx)("div",{className:"flex-1 h-1 bg-white/20 rounded-full overflow-hidden",children:(0,a.jsx)(l.E.div,{className:"h-full bg-rose-500",initial:{width:"0%"},animate:{width:"".concat(y/Q.length*100,"%")},transition:{duration:.3}})})]})]})]}):(0,a.jsx)("div",{className:"text-white text-center p-10",children:"No slides"})}},11980:function(e,t,i){i.d(t,{X:function(){return c},bZ:function(){return o}});var a=i(57437),s=i(2265),l=i(13027),n=i(77700);let r=(0,l.j)("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),o=s.forwardRef((e,t)=>{let{className:i,variant:s,...l}=e;return(0,a.jsx)("div",{ref:t,role:"alert",className:(0,n.cn)(r({variant:s}),i),...l})});o.displayName="Alert",s.forwardRef((e,t)=>{let{className:i,...s}=e;return(0,a.jsx)("h5",{ref:t,className:(0,n.cn)("mb-1 font-medium leading-none tracking-tight",i),...s})}).displayName="AlertTitle";let c=s.forwardRef((e,t)=>{let{className:i,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("text-sm [&_p]:leading-relaxed",i),...s})});c.displayName="AlertDescription"},85398:function(e,t,i){i.d(t,{i:function(){return r}});var a=i(57437),s=i(2265),l=i(67553),n=i(77700);let r=s.forwardRef((e,t)=>{let{className:i,...s}=e;return(0,a.jsxs)(l.fC,{ref:t,className:(0,n.cn)("relative flex w-full touch-none select-none items-center",i),...s,children:[(0,a.jsx)(l.fQ,{className:"relative h-1.5 w-full grow overflow-hidden rounded-full bg-primary/20",children:(0,a.jsx)(l.e6,{className:"absolute h-full bg-primary"})}),(0,a.jsx)(l.bU,{className:"block h-4 w-4 rounded-full border border-primary/50 bg-background shadow transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50"})]})});r.displayName=l.fC.displayName},65236:function(e,t,i){i.d(t,{SP:function(){return c},dr:function(){return o},mQ:function(){return r},nU:function(){return d}});var a=i(57437),s=i(2265),l=i(62447),n=i(77700);let r=l.fC,o=s.forwardRef((e,t)=>{let{className:i,...s}=e;return(0,a.jsx)(l.aV,{ref:t,className:(0,n.cn)("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",i),...s})});o.displayName=l.aV.displayName;let c=s.forwardRef((e,t)=>{let{className:i,...s}=e;return(0,a.jsx)(l.xz,{ref:t,className:(0,n.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",i),...s})});c.displayName=l.xz.displayName;let d=s.forwardRef((e,t)=>{let{className:i,...s}=e;return(0,a.jsx)(l.VY,{ref:t,className:(0,n.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",i),...s})});d.displayName=l.VY.displayName}}]);