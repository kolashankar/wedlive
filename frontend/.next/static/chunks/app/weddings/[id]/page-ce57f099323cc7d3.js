(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5085],{26232:function(e,t,s){Promise.resolve().then(s.bind(s,21921))},21921:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return F}});var n=s(57437),o=s(2265),a=s(56360),r=s(10273),l=s(79004),d=s(17953),i=s(95640),c=s(68954),u=s(40933),m=s(3274),g=s(95137),h=s(71510),b=s(24241),v=s(49321),p=s(11240),x=s(37164),y=s(87138),f=s(16463),_=s(27776),k=s(6657),j=s(67159),w=s(2645),N=s(74414),E=s(57818),Z=s(71561),P=s(98094);function S(e){let{weddingId:t,weddingStatus:s}=e;(0,f.useRouter)();let[a,r]=(0,o.useState)(!0),[l,d]=(0,o.useState)(!1),[i,c]=(0,o.useState)(!1),[u,m]=(0,o.useState)(!1);if((0,o.useEffect)(()=>{c(!0),m(window.location.search.includes("live=true"))},[]),(0,o.useEffect)(()=>{if(!i)return;let e=()=>{d(window.scrollY>100)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[i]),!i||u)return null;let g="live"===s;return(0,n.jsxs)("button",{onClick:()=>{window.location.href="/weddings/".concat(t,"?live=true")},"data-testid":"watch-live-button",className:"\n        fixed top-4 right-4 z-50\n        flex items-center gap-2\n        px-4 py-3 rounded-full\n        font-semibold text-white\n        shadow-lg hover:shadow-xl\n        transition-all duration-300\n        ".concat(g?"bg-red-500 hover:bg-red-600 animate-pulse":"bg-purple-600 hover:bg-purple-700","\n        ").concat(l?"scale-90":"scale-100","\n      "),style:{backdropFilter:"blur(10px)"},children:[g&&(0,n.jsx)("div",{className:"w-2 h-2 bg-white rounded-full animate-ping"}),(0,n.jsx)(P.Z,{className:"w-5 h-5",fill:"white"}),(0,n.jsx)("span",{children:"Watch Wedding"})]})}s(11980);let R=(0,E.default)(()=>Promise.all([s.e(1229),s.e(8358),s.e(5884),s.e(7611)]).then(s.bind(s,87611)),{loadableGenerated:{webpack:()=>[87611]},loading:()=>(0,n.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-50 to-gray-100",children:(0,n.jsx)(m.Z,{className:"w-8 h-8 animate-spin text-blue-500"})})}),I=(0,E.default)(()=>Promise.all([s.e(1229),s.e(5787),s.e(5942),s.e(8358),s.e(5884),s.e(508),s.e(3645)]).then(s.bind(s,90508)),{loadableGenerated:{webpack:()=>[90508]},loading:()=>(0,n.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-white",children:(0,n.jsx)(m.Z,{className:"w-8 h-8 animate-spin text-purple-500"})})}),A=(0,E.default)(()=>Promise.all([s.e(1229),s.e(5787),s.e(8358),s.e(5884),s.e(9036)]).then(s.bind(s,9036)),{loadableGenerated:{webpack:()=>[9036]},loading:()=>(0,n.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-rose-50 to-purple-50",children:(0,n.jsx)(m.Z,{className:"w-8 h-8 animate-spin text-pink-500"})})}),L=(0,E.default)(()=>Promise.all([s.e(1229),s.e(8358),s.e(5884),s.e(8814)]).then(s.bind(s,18814)),{loadableGenerated:{webpack:()=>[18814]},loading:()=>(0,n.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-white",children:(0,n.jsx)(m.Z,{className:"w-8 h-8 animate-spin text-gray-500"})})}),M=(0,E.default)(()=>Promise.all([s.e(1229),s.e(8358),s.e(5884),s.e(4835)]).then(s.bind(s,94835)),{loadableGenerated:{webpack:()=>[94835]},loading:()=>(0,n.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-white",children:(0,n.jsx)(m.Z,{className:"w-8 h-8 animate-spin text-black"})})}),C={layout_1:R,layout_2:I,layout_3:A,layout_4:L,layout_5:M,layout_6:(0,E.default)(()=>Promise.all([s.e(1229),s.e(5787),s.e(5942),s.e(8358),s.e(5884),s.e(8209)]).then(s.bind(s,8209)),{loadableGenerated:{webpack:()=>[8209]},loading:()=>(0,n.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-black",children:(0,n.jsx)(m.Z,{className:"w-8 h-8 animate-spin text-amber-500"})})}),layout_7:(0,E.default)(()=>Promise.all([s.e(1229),s.e(5787),s.e(8358),s.e(5884),s.e(9451)]).then(s.bind(s,59451)),{loadableGenerated:{webpack:()=>[59451]},loading:()=>(0,n.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-white",children:(0,n.jsx)(m.Z,{className:"w-8 h-8 animate-spin text-red-500"})})}),layout_8:(0,E.default)(()=>Promise.all([s.e(1229),s.e(8358),s.e(5884),s.e(4906)]).then(s.bind(s,44906)),{loadableGenerated:{webpack:()=>[44906]},loading:()=>(0,n.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-white",children:(0,n.jsx)(m.Z,{className:"w-8 h-8 animate-spin text-zinc-900"})})})};function T(e){var t,a,r,l,d,i,c,u,g,h,b,v,p,x,y,f,_,k,j,w,N,E,P,I,A,L,M,T,z,D,O,B,U,W,F,H,V,Y,G,q,X,K,Q,J,$,ee,et,es,en,eo,ea,er,el,ed,ei,ec;let{wedding:eu,videoTemplate:em,onEnter:eg}=e,[eh,eb]=(0,o.useState)(null),[ev,ep]=(0,o.useState)(!0),[ex,ey]=(0,o.useState)({}),[ef,e_]=(0,o.useState)([]);(0,o.useEffect)(()=>{console.log("[LayoutRenderer] Video Template Debug:",{hasVideoTemplate:!!em,videoTemplateId:null==em?void 0:em.id,videoTemplateName:null==em?void 0:em.name,videoTemplateData:em})},[em]),(0,o.useEffect)(()=>{(async()=>{if(!(null==eu?void 0:eu.id)){ep(!1);return}try{let e=(await Promise.resolve().then(s.bind(s,6657))).default,t=await e.get("/api/weddings/".concat(eu.id,"/layout-photos"));200===t.status&&t.data?(console.log("[PHASE 3] Layout photos fetched:",t.data),eb(t.data.photos||{})):(console.warn("[PHASE 3] Failed to fetch layout photos:",t.status),eb({}))}catch(e){console.error("[PHASE 3] Error fetching layout photos:",e),eb({})}finally{ep(!1)}})()},[null==eu?void 0:eu.id]),(0,o.useEffect)(()=>{let e=()=>{console.log("[FIX 2] Background update detected in LayoutRenderer, triggering re-render")};return window.addEventListener("wedding-backgrounds-updated",e),()=>{window.removeEventListener("wedding-backgrounds-updated",e)}},[]),(0,o.useEffect)(()=>{(async()=>{var e,t,n,o,a;if(!(null==eu?void 0:null===(e=eu.theme_settings)||void 0===e?void 0:e.theme_assets))return;let r=[null===(t=eu.theme_settings.theme_assets.borders)||void 0===t?void 0:t.bride_border_id,null===(n=eu.theme_settings.theme_assets.borders)||void 0===n?void 0:n.groom_border_id,null===(o=eu.theme_settings.theme_assets.borders)||void 0===o?void 0:o.couple_border_id,null===(a=eu.theme_settings.theme_assets.borders)||void 0===a?void 0:a.precious_moments_border_id].filter(Boolean);if(0!==r.length)try{let e=(await Promise.resolve().then(s.bind(s,6657))).default,t=r.map(async t=>{var s,n,o,a;try{console.log("[LayoutRenderer] Loading border ".concat(t,"..."));let n=(await e.get("/api/theme-assets/borders/".concat(t))).data;return n&&n.mask_data?console.log("[LayoutRenderer] Border ".concat(t," loaded successfully:"),{hasSvgPath:!!n.mask_data.svg_path,hasPolygonPoints:(null===(s=n.mask_data.polygon_points)||void 0===s?void 0:s.length)||0,cdnUrl:!!n.cdn_url}):console.warn("[LayoutRenderer] Border ".concat(t," missing mask data")),{id:t,data:n,success:!0}}catch(r){let e=null===(n=r.response)||void 0===n?void 0:n.status,s=(null===(a=r.response)||void 0===a?void 0:null===(o=a.data)||void 0===o?void 0:o.message)||r.message;return console.error("[LayoutRenderer] Border ".concat(t," failed to load:"),{status:e,message:s,url:"/api/theme-assets/borders/".concat(t)}),404===e?console.warn("[LayoutRenderer] Border ".concat(t," not found (404) - may need to be uploaded")):e>=500&&console.error("[LayoutRenderer] Server error for border ".concat(t,": ").concat(e)),{id:t,data:null,success:!1,error:{status:e,message:s}}}}),n=await Promise.all(t),o={},a=[];n.forEach(e=>{let{id:t,data:s,success:n,error:r}=e;n&&s?o[t]=s:a.push({id:t,error:r})}),ey(o),e_(a)}catch(e){console.error("[LayoutRenderer] Failed to fetch border details:",e),e_([{id:"global",error:{message:"Failed to load borders"}}]),ey({})}})()},[eu]);let ek=(null==eu?void 0:null===(t=eu.backgrounds)||void 0===t?void 0:t.layout_page_background_url)||null;if((0,o.useEffect)(()=>{if(!ek)return;let e=document.body.style.background,t=document.body.style.backgroundImage,s=document.body.style.backgroundSize,n=document.body.style.backgroundPosition,o=document.body.style.backgroundAttachment,a=document.body.style.backgroundRepeat,r=document.body.style.minHeight;return document.body.style.backgroundImage="linear-gradient(rgba(0,0,0,0.15), rgba(0,0,0,0.15)), url(".concat(ek,")"),document.body.style.backgroundSize="cover",document.body.style.backgroundPosition="center",document.body.style.backgroundAttachment="fixed",document.body.style.backgroundRepeat="no-repeat",document.body.style.minHeight="100vh",console.log("[FIX 1] Layout background applied to body element (all sections):",ek),()=>{document.body.style.background=e,document.body.style.backgroundImage=t,document.body.style.backgroundSize=s,document.body.style.backgroundPosition=n,document.body.style.backgroundAttachment=o,document.body.style.backgroundRepeat=a,document.body.style.minHeight=r,console.log("[FIX 1] Restored original body background")}},[ek]),!eu||"object"!=typeof eu)return console.error("LayoutRenderer: Invalid wedding prop",eu),(0,n.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-50 to-gray-100",children:(0,n.jsx)("div",{className:"text-center",children:(0,n.jsx)("p",{className:"text-red-500 text-lg",children:"Invalid wedding data"})})});if(ev)return(0,n.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-50 to-gray-100",children:(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)(m.Z,{className:"w-8 h-8 animate-spin text-blue-500 mx-auto mb-4"}),(0,n.jsx)("p",{className:"text-gray-600",children:"Loading layout..."})]})});eu.theme_settings&&"object"==typeof eu.theme_settings||(console.error("LayoutRenderer: Missing or invalid theme_settings",eu.theme_settings),eu.theme_settings={layout_id:"layout_1",custom_font:"Playfair Display",primary_color:"#f43f5e",secondary_color:"#a855f7",pre_wedding_video:"",studio_details:{studio_id:"",logo_url:"",studio_image_url:""},custom_messages:{welcome_text:"Welcome to our wedding",description:""},theme_assets:{}});let ej=C[(null===(a=eu.theme_settings)||void 0===a?void 0:a.layout_id)||(null===(r=eu.theme_settings)||void 0===r?void 0:r.theme_id)||"layout_1"]||R,ew=(null===(l=eu.backgrounds)||void 0===l?void 0:l.layout_page_background_url)||null,eN=(null===(d=eu.backgrounds)||void 0===d?void 0:d.stream_page_background_url)||null;console.log("[LAYOUT_RENDERER] Background Debug:",{hasBackgroundsObject:!!eu.backgrounds,layoutPageBackgroundUrl:ew,streamPageBackgroundUrl:eN,wedding_backgrounds:eu.backgrounds}),ew||(console.warn("[LAYOUT_RENDERER] No layout background URL found!"),console.log("[LAYOUT_RENDERER] wedding.backgrounds:",eu.backgrounds)),console.log("[PHASE 3] Layout photos from API:",eh);let eE=(null==eh?void 0:eh.bridePhoto)?{url:eh.bridePhoto.url,type:"photo"}:null,eZ=(null==eh?void 0:eh.groomPhoto)?{url:eh.groomPhoto.url,type:"photo"}:null,eP=(null==eh?void 0:eh.couplePhoto)?{url:eh.couplePhoto.url,type:"photo"}:null,eS=Array.isArray(null==eh?void 0:eh.preciousMoments)?eh.preciousMoments.map(e=>({url:e.url,photo_url:e.url,cdn_url:e.url,type:"photo"})):[],eR=(null==eh?void 0:eh.studioImage)?{url:eh.studioImage.url,type:"photo"}:null;console.log("[PHASE 3] Mapped photos:",{bridePhoto:!!eE,groomPhoto:!!eZ,couplePhoto:!!eP,preciousMoments:eS.length,studioImage:!!eR});let eI=(null===(i=eu.theme_settings)||void 0===i?void 0:i.pre_wedding_video)||null,eA=eI?(0,Z.Tc)(eI)||eI:null,eL={font:(null===(c=eu.theme_settings)||void 0===c?void 0:c.custom_font)||"Playfair Display",primaryColor:(null===(u=eu.theme_settings)||void 0===u?void 0:u.primary_color)||"#f43f5e",secondaryColor:(null===(g=eu.theme_settings)||void 0===g?void 0:g.secondary_color)||"#a855f7",welcomeMessage:(null===(b=eu.theme_settings)||void 0===b?void 0:null===(h=b.custom_messages)||void 0===h?void 0:h.welcome_text)||"Welcome to our wedding",description:(null===(p=eu.theme_settings)||void 0===p?void 0:null===(v=p.custom_messages)||void 0===v?void 0:v.description)||"",bridePhoto:eE,groomPhoto:eZ,couplePhoto:eP,preciousMoments:eS,studioImage:eR,heroBackground:ew,liveBackground:eN||(null===(y=eu.theme_settings)||void 0===y?void 0:null===(x=y.theme_assets)||void 0===x?void 0:x.live_background)||null,preWeddingVideo:eA,templateVideoWeddingId:eu.id,hasTemplateVideo:!!(null==em?void 0:em.id),videoTemplateData:em,borders:{bride:(null===(_=eu.theme_settings)||void 0===_?void 0:null===(f=_.theme_assets)||void 0===f?void 0:f.bride_border_url)||null,groom:(null===(j=eu.theme_settings)||void 0===j?void 0:null===(k=j.theme_assets)||void 0===k?void 0:k.groom_border_url)||null,couple:(null===(N=eu.theme_settings)||void 0===N?void 0:null===(w=N.theme_assets)||void 0===w?void 0:w.couple_border_url)||null,preciousMoments:(null===(P=eu.theme_settings)||void 0===P?void 0:null===(E=P.theme_assets)||void 0===E?void 0:E.precious_moments_border_url)||null},borderMasks:{bride:(null===(I=ex[null===(M=eu.theme_settings)||void 0===M?void 0:null===(L=M.theme_assets)||void 0===L?void 0:null===(A=L.borders)||void 0===A?void 0:A.bride_border_id])||void 0===I?void 0:I.mask_data)||null,groom:(null===(T=ex[null===(O=eu.theme_settings)||void 0===O?void 0:null===(D=O.theme_assets)||void 0===D?void 0:null===(z=D.borders)||void 0===z?void 0:z.groom_border_id])||void 0===T?void 0:T.mask_data)||null,couple:(null===(B=ex[null===(F=eu.theme_settings)||void 0===F?void 0:null===(W=F.theme_assets)||void 0===W?void 0:null===(U=W.borders)||void 0===U?void 0:U.couple_border_id])||void 0===B?void 0:B.mask_data)||null,preciousMoments:(null===(H=ex[null===(G=eu.theme_settings)||void 0===G?void 0:null===(Y=G.theme_assets)||void 0===Y?void 0:null===(V=Y.borders)||void 0===V?void 0:V.precious_moments_border_id])||void 0===H?void 0:H.mask_data)||null},studioDetails:{default_image_url:(null===(X=eu.theme_settings)||void 0===X?void 0:null===(q=X.studio_details)||void 0===q?void 0:q.default_image_url)||null,logo_url:(null===(Q=eu.theme_settings)||void 0===Q?void 0:null===(K=Q.studio_details)||void 0===K?void 0:K.logo_url)||null,name:(null===($=eu.theme_settings)||void 0===$?void 0:null===(J=$.studio_details)||void 0===J?void 0:J.name)||"",email:(null===(et=eu.theme_settings)||void 0===et?void 0:null===(ee=et.studio_details)||void 0===ee?void 0:ee.email)||"",phone:(null===(en=eu.theme_settings)||void 0===en?void 0:null===(es=en.studio_details)||void 0===es?void 0:es.phone)||"",website:(null===(ea=eu.theme_settings)||void 0===ea?void 0:null===(eo=ea.studio_details)||void 0===eo?void 0:eo.website)||"",address:(null===(el=eu.theme_settings)||void 0===el?void 0:null===(er=el.studio_details)||void 0===er?void 0:er.address)||"",show_details:(null===(ei=eu.theme_settings)||void 0===ei?void 0:null===(ed=ei.studio_details)||void 0===ed?void 0:ed.show_details)!==!1}};console.log("[PHASE 3] Final layoutConfig:",eL);let eM=ew?{backgroundImage:"linear-gradient(rgba(0,0,0,0.15), rgba(0,0,0,0.15)), url(".concat(ew,")"),backgroundSize:"cover",backgroundPosition:"center",backgroundAttachment:"fixed",backgroundRepeat:"no-repeat",minHeight:"100vh",width:"100%"}:{minHeight:"100vh",width:"100%"};return console.log("[LAYOUT_RENDERER] Layout Background Debug:",{hasStyle:!!eM,url:ew,hasBackgroundsObject:!!eu.backgrounds,wedding_backgrounds:eu.backgrounds}),!ew&&(null===(ec=eu.backgrounds)||void 0===ec?void 0:ec.layout_page_background_id)&&console.warn("[LAYOUT_RENDERER] Layout background ID exists but URL is missing!",{id:eu.backgrounds.layout_page_background_id,backgrounds:eu.backgrounds}),(0,n.jsxs)("div",{style:eM,className:"min-h-screen w-full",children:[(0,n.jsx)(S,{weddingId:null==eu?void 0:eu.id,weddingStatus:null==eu?void 0:eu.status}),(0,n.jsx)(ej,{weddingData:eu,layoutConfig:eL,onEnter:eg})]})}var z=s(19178),D=s(67783),O=s(76780);let B=(0,s(78030).Z)("refresh-ccw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);class U extends o.Component{static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,t){console.error("ErrorBoundary caught an error:",e,t),this.setState(s=>({error:e,errorInfo:t,errorCount:s.errorCount+1})),window.reportError&&window.reportError(e)}render(){if(this.state.hasError){let{error:e,errorInfo:t,errorCount:s}=this.state,o=s>2;return(0,n.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-100 flex items-center justify-center p-4",children:(0,n.jsxs)(r.Zb,{className:"max-w-2xl w-full",children:[(0,n.jsx)(r.Ol,{children:(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[(0,n.jsx)("div",{className:"p-3 bg-red-100 rounded-full",children:(0,n.jsx)(O.Z,{className:"w-6 h-6 text-red-600"})}),(0,n.jsxs)("div",{children:[(0,n.jsx)(r.ll,{className:"text-xl text-red-900",children:"Something went wrong"}),(0,n.jsx)(r.SZ,{className:"mt-1",children:o?"This error keeps occurring. Please try reloading the page.":"An unexpected error occurred while rendering this page."})]})]})}),(0,n.jsxs)(r.aY,{className:"space-y-4",children:[e&&(0,n.jsxs)("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:[(0,n.jsx)("p",{className:"text-sm font-semibold text-red-900 mb-2",children:"Error Message:"}),(0,n.jsx)("p",{className:"text-sm text-red-700 font-mono break-all",children:e.toString()})]}),t&&!1,(0,n.jsxs)("div",{className:"flex gap-3 pt-4",children:[!o&&(0,n.jsxs)(a.z,{onClick:this.handleReset,variant:"outline",className:"flex-1",children:[(0,n.jsx)(B,{className:"w-4 h-4 mr-2"}),"Try Again"]}),(0,n.jsxs)(a.z,{onClick:this.handleReload,className:"flex-1",children:[(0,n.jsx)(B,{className:"w-4 h-4 mr-2"}),"Reload Page"]})]}),(0,n.jsxs)("div",{className:"pt-4 border-t",children:[(0,n.jsx)("p",{className:"text-xs text-gray-600",children:"If this problem persists, please try:"}),(0,n.jsxs)("ul",{className:"mt-2 text-xs text-gray-600 list-disc list-inside space-y-1",children:[(0,n.jsx)("li",{children:"Clearing your browser cache"}),(0,n.jsx)("li",{children:"Using a different browser"}),(0,n.jsx)("li",{children:"Checking your internet connection"}),(0,n.jsx)("li",{children:"Contacting support if the issue continues"})]})]})]})]})})}return this.props.children}constructor(e){super(e),this.handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null})},this.handleReload=()=>{window.location.reload()},this.state={hasError:!1,error:null,errorInfo:null,errorCount:0}}}function W(e){var t,s,E,Z,P,S,R,I;let{params:A,searchParams:L}=e,M=(0,f.useRouter)(),C=A.id,[D,O]=(0,o.useState)(null),[B,U]=(0,o.useState)(!0),[W,F]=(0,o.useState)(0),[H,V]=(0,o.useState)(null),[Y,G]=(0,o.useState)(!1),[q,X]=(0,o.useState)(null),K=(null==L?void 0:L.live)==="true",Q=(null==D?void 0:null===(t=D.backgrounds)||void 0===t?void 0:t.stream_page_background_url)||null,J=Q?{backgroundImage:"linear-gradient(rgba(0,0,0,0.18), rgba(0,0,0,0.22)), url(".concat(Q,")"),backgroundSize:"cover",backgroundPosition:"center",backgroundAttachment:"fixed",backgroundRepeat:"no-repeat",minHeight:"100vh",width:"100%"}:{minHeight:"100vh",width:"100%"};console.log("[STREAM_VIEW] Stream Background Debug:",{hasBackgroundsObject:!!(null==D?void 0:D.backgrounds),streamBackgroundUrl:Q,hasStyle:!!J,wedding_backgrounds:null==D?void 0:D.backgrounds}),!Q&&(null==D?void 0:null===(s=D.backgrounds)||void 0===s?void 0:s.stream_page_background_id)?console.warn("[STREAM_VIEW] Stream background ID exists but URL is missing!",{id:D.backgrounds.stream_page_background_id,backgrounds:D.backgrounds}):Q||console.info("[STREAM_VIEW] No stream background configured (this is normal if not set)"),(0,o.useEffect)(()=>{G(!0)},[]);let $=(0,o.useCallback)(async()=>{try{console.log("Loading wedding with ID:",C);let t=(await k.default.get("/api/weddings/".concat(C))).data;if(console.log("Wedding data loaded:",t),t.backgrounds?console.log("[FIX 3] Initial backgrounds loaded:",{layout_page_background_id:t.backgrounds.layout_page_background_id,layout_page_background_url:t.backgrounds.layout_page_background_url,stream_page_background_id:t.backgrounds.stream_page_background_id,stream_page_background_url:t.backgrounds.stream_page_background_url}):console.warn("[FIX 3] No backgrounds data in wedding response"),!t||"object"!=typeof t){console.error("Invalid wedding data received:",t),_.toast.error("Invalid wedding data received"),U(!1);return}t.theme_settings&&"object"==typeof t.theme_settings?(t.theme_settings.studio_details&&"object"==typeof t.theme_settings.studio_details||(t.theme_settings.studio_details={studio_id:"",name:"",logo_url:"",default_image_url:"",contact:""}),t.theme_settings.custom_messages&&"object"==typeof t.theme_settings.custom_messages||(t.theme_settings.custom_messages={welcome_text:"Welcome to our big day",description:""}),Array.isArray(t.theme_settings.cover_photos)||(t.theme_settings.cover_photos=[])):(console.log("Initializing default theme_settings"),t.theme_settings={theme_id:"floral_garden",custom_font:"Great Vibes",primary_color:"#f43f5e",secondary_color:"#a855f7",pre_wedding_video:"",cover_photos:[],studio_details:{studio_id:"",name:"",logo_url:"",default_image_url:"",contact:""},custom_messages:{welcome_text:"Welcome to our big day",description:""}}),O(t),F(t.viewers_count||0);try{var e;let t=await k.default.get("/api/viewer/wedding/".concat(C,"/all"));(null===(e=t.data)||void 0===e?void 0:e.video_template)?(X(t.data.video_template),console.log("Video template loaded:",t.data.video_template)):(X(null),console.log("No video template assigned to this wedding"))}catch(e){console.error("Error loading video template:",e),X(null)}let s=t.theme_settings&&"object"==typeof t.theme_settings&&Object.keys(t.theme_settings).length>0,n=t.creator_subscription_plan&&"free"!==t.creator_subscription_plan;K?V(!1):V(n&&s),U(!1)}catch(e){_.toast.error("Failed to load wedding details"),console.error("Error loading wedding:",e)}finally{U(!1)}},[C]),ee=(0,o.useCallback)(async()=>{try{let s=await k.default.get("/api/weddings/".concat(C));if(F(s.data.viewers_count||0),s.data.theme_settings&&O(e=>({...e,theme_settings:s.data.theme_settings})),s.data.backgrounds){var e,t;let n=null==D?void 0:null===(e=D.backgrounds)||void 0===e?void 0:e.stream_page_background_url,o=null===(t=s.data.backgrounds)||void 0===t?void 0:t.stream_page_background_url;n!==o&&(console.log("[FIX 3] Background change detected in updateViewerCount:",{old:n,new:o}),O(e=>({...e,backgrounds:s.data.backgrounds})),console.log("[FIX 3] Stream page background updated successfully"))}}catch(e){console.error("Error updating viewer count:",e)}},[D]);(0,o.useEffect)(()=>{C&&$()},[C,$]),(0,o.useEffect)(()=>{if(!C)return;let e=setInterval(()=>{ee()},3e4);return()=>clearInterval(e)},[C,ee]),(0,o.useEffect)(()=>{if(!Q)return;let e=document.body.style.background,t=document.body.style.backgroundImage,s=document.body.style.backgroundSize,n=document.body.style.backgroundPosition,o=document.body.style.backgroundAttachment,a=document.body.style.backgroundRepeat,r=document.body.style.minHeight;return document.body.style.backgroundImage="linear-gradient(rgba(0,0,0,0.18), rgba(0,0,0,0.22)), url(".concat(Q,")"),document.body.style.backgroundSize="cover",document.body.style.backgroundPosition="center",document.body.style.backgroundAttachment="fixed",document.body.style.backgroundRepeat="no-repeat",document.body.style.minHeight="100vh",console.log("[FIX 2] Applied stream background to body element (covers all sections):",Q),()=>{document.body.style.background=e,document.body.style.backgroundImage=t,document.body.style.backgroundSize=s,document.body.style.backgroundPosition=n,document.body.style.backgroundAttachment=o,document.body.style.backgroundRepeat=a,document.body.style.minHeight=r,console.log("[FIX 2] Restored original body background")}},[Q]),(0,o.useEffect)(()=>{if(!H||!C)return;let e=setInterval(async()=>{try{let s=await k.default.get("/api/weddings/".concat(C));if(s.data.theme_settings&&O(e=>({...e,theme_settings:s.data.theme_settings})),s.data.backgrounds){var e,t;let n=null==D?void 0:null===(e=D.backgrounds)||void 0===e?void 0:e.stream_page_background_url,o=null===(t=s.data.backgrounds)||void 0===t?void 0:t.stream_page_background_url;n!==o&&(console.log("[FIX 2] Background changed detected during polling:",{old:n,new:o}),O(e=>({...e,backgrounds:s.data.backgrounds})),console.log("[FIX 2] Stream background updated automatically"))}}catch(e){console.error("Error refreshing theme settings:",e)}},1e4);return()=>clearInterval(e)},[H,C,D]),(0,o.useEffect)(()=>{let e=async e=>{var t;console.log("[BACKGROUND_UPDATE] Background update event received, reloading wedding data...",e.detail),(null===(t=e.detail)||void 0===t?void 0:t.updates)&&(console.log("[BACKGROUND_UPDATE] Reloading page to apply background changes"),setTimeout(()=>{window.location.reload()},500))};return window.addEventListener("wedding-backgrounds-updated",e),()=>{window.removeEventListener("wedding-backgrounds-updated",e)}},[C]);let et=()=>{let e=window.location.href;navigator.share?navigator.share({title:D.title,text:"Watch ".concat(D.bride_name," & ").concat(D.groom_name,"'s wedding live!"),url:e}).catch(()=>{es(e)}):es(e)},es=e=>{navigator.clipboard.writeText(e),_.toast.success("Link copied to clipboard!")};return B?(0,n.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)(m.Z,{className:"w-12 h-12 animate-spin text-rose-500 mx-auto mb-4"}),(0,n.jsx)("p",{className:"text-lg text-gray-600",children:"Loading wedding..."})]})}):D?null===H?(0,n.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)(m.Z,{className:"w-12 h-12 animate-spin text-rose-500 mx-auto mb-4"}),(0,n.jsx)("p",{className:"text-lg text-gray-600",children:"Loading wedding..."})]})}):H&&D&&D.theme_settings&&"object"==typeof D.theme_settings?(0,n.jsx)(T,{wedding:D,videoTemplate:q,onEnter:()=>{V(!1)}}):(0,n.jsxs)("div",{className:"min-h-screen w-full bg-gradient-to-br from-rose-50 via-white to-purple-50",style:J,children:[(0,n.jsx)("nav",{className:"bg-white/80 backdrop-blur-lg border-b border-gray-200 sticky top-0 z-50",children:(0,n.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,n.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,n.jsxs)(a.z,{variant:"ghost",size:"sm",onClick:()=>M.back(),"data-testid":"back-button",children:[(0,n.jsx)(g.Z,{className:"w-4 h-4 mr-2"}),"Back"]}),(0,n.jsxs)(y.default,{href:"/",className:"flex items-center space-x-2",children:[(0,n.jsx)("div",{className:"bg-gradient-to-r from-rose-500 to-purple-600 p-2 rounded-lg",children:(0,n.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})})}),(0,n.jsx)("span",{className:"text-xl font-bold bg-gradient-to-r from-rose-600 to-purple-600 bg-clip-text text-transparent",children:"WedLive"})]})]}),(0,n.jsx)("div",{className:"flex items-center space-x-4",children:(0,n.jsxs)(a.z,{variant:"outline",size:"sm",onClick:et,"data-testid":"share-button",children:[(0,n.jsx)(h.Z,{className:"w-4 h-4 mr-2"}),"Share"]})})]})})}),(0,n.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,n.jsxs)("div",{className:"grid lg:grid-cols-3 gap-8",children:[(0,n.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,n.jsx)(r.Zb,{className:"overflow-hidden",children:(0,n.jsx)("div",{className:"relative bg-black",style:{paddingTop:"56.25%"},children:"live"===D.status&&D.stream_call_id?(0,n.jsx)("div",{className:"absolute inset-0",children:(0,n.jsx)(N.Z,{playbackUrl:D.playback_url,themeId:null===(E=D.theme_settings)||void 0===E?void 0:E.theme_id,streamBorderUrl:null===(P=D.theme_settings)||void 0===P?void 0:null===(Z=P.theme_assets)||void 0===Z?void 0:Z.stream_border_url})}):"recorded"===D.status&&D.recording_url?(0,n.jsx)("div",{className:"absolute inset-0",children:(0,n.jsx)(N.Z,{playbackUrl:D.recording_url,themeId:null===(S=D.theme_settings)||void 0===S?void 0:S.theme_id,streamBorderUrl:null===(I=D.theme_settings)||void 0===I?void 0:null===(R=I.theme_assets)||void 0===R?void 0:R.stream_border_url})}):(0,n.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,n.jsxs)("div",{className:"text-center text-white p-8",children:[(0,n.jsx)(c.Z,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),(0,n.jsx)("p",{className:"text-lg font-semibold mb-2",children:"scheduled"===D.status?"Stream Not Started Yet":"Stream Ended"}),Y&&(0,n.jsx)("p",{className:"text-sm opacity-75",children:"scheduled"===D.status?"Scheduled for ".concat((0,j.WU)(new Date(D.scheduled_date),"PPP p")):"This wedding stream has ended"})]})})})}),(0,n.jsxs)(r.Zb,{children:[(0,n.jsx)(r.Ol,{children:(0,n.jsxs)("div",{className:"flex items-start justify-between",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(r.ll,{className:"text-2xl",children:D.title}),(0,n.jsxs)(r.SZ,{className:"text-base mt-2",children:[D.bride_name," & ",D.groom_name]})]}),(e=>{switch(e){case"live":return(0,n.jsxs)(l.C,{className:"bg-red-500 text-white animate-pulse text-lg px-4 py-1","data-testid":"status-live",children:[(0,n.jsx)(c.Z,{className:"w-4 h-4 mr-2"}),"LIVE"]});case"scheduled":return(0,n.jsxs)(l.C,{variant:"secondary",className:"text-lg px-4 py-1","data-testid":"status-scheduled",children:[(0,n.jsx)(u.Z,{className:"w-4 h-4 mr-2"}),"Upcoming"]});case"ended":case"recorded":return(0,n.jsx)(l.C,{variant:"outline",className:"text-lg px-4 py-1","data-testid":"status-recorded",children:"Recording Available"});default:return null}})(D.status)]})}),(0,n.jsxs)(r.aY,{className:"space-y-4",children:[D.description&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("p",{className:"text-gray-700",children:D.description}),(0,n.jsx)(d.Z,{})]}),(0,n.jsxs)("div",{className:"grid gap-3",children:[Y&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"flex items-center gap-3 text-gray-600",children:[(0,n.jsx)(b.Z,{className:"w-5 h-5 text-rose-500"}),(0,n.jsx)("span",{children:(0,j.WU)(new Date(D.scheduled_date),"EEEE, MMMM d, yyyy")})]}),(0,n.jsxs)("div",{className:"flex items-center gap-3 text-gray-600",children:[(0,n.jsx)(u.Z,{className:"w-5 h-5 text-rose-500"}),(0,n.jsx)("span",{children:(0,j.WU)(new Date(D.scheduled_date),"h:mm a")})]})]}),D.location&&(0,n.jsxs)("div",{className:"flex items-center gap-3 text-gray-600",children:[(0,n.jsx)(v.Z,{className:"w-5 h-5 text-rose-500"}),(0,n.jsx)("span",{children:D.location})]}),"live"===D.status&&(0,n.jsxs)("div",{className:"flex items-center gap-3 text-gray-600",children:[(0,n.jsx)(p.Z,{className:"w-5 h-5 text-rose-500"}),(0,n.jsxs)("span",{suppressHydrationWarning:!0,children:[W," ",1===W?"viewer":"viewers"," watching"]})]})]})]})]}),(0,n.jsxs)(r.Zb,{children:[(0,n.jsxs)(r.Ol,{children:[(0,n.jsx)(r.ll,{children:"Photo & Video Gallery"}),(0,n.jsx)(r.SZ,{children:"Memories from the celebration"})]}),(0,n.jsx)(r.aY,{children:(0,n.jsx)(w.Z,{weddingId:C,publicView:!0})})]})]}),(0,n.jsxs)("div",{className:"space-y-6",children:[D.creator_name&&(0,n.jsxs)(r.Zb,{children:[(0,n.jsx)(r.Ol,{children:(0,n.jsx)(r.ll,{className:"text-lg",children:"Hosted By"})}),(0,n.jsx)(r.aY,{children:(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[(0,n.jsx)(i.qE,{children:(0,n.jsx)(i.Q5,{className:"bg-gradient-to-br from-rose-500 to-purple-600 text-white",children:D.creator_name.charAt(0).toUpperCase()})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"font-semibold",children:D.creator_name}),(0,n.jsx)("p",{className:"text-sm text-gray-500",children:"Wedding Host"})]})]})})]}),(0,n.jsxs)(r.Zb,{children:[(0,n.jsx)(r.Ol,{children:(0,n.jsx)(r.ll,{className:"text-lg",children:"Actions"})}),(0,n.jsxs)(r.aY,{className:"space-y-3",children:[(0,n.jsxs)(a.z,{variant:"outline",className:"w-full justify-start",onClick:et,children:[(0,n.jsx)(h.Z,{className:"w-4 h-4 mr-2"}),"Share Wedding"]}),D.recording_url&&(0,n.jsx)(a.z,{variant:"outline",className:"w-full justify-start",asChild:!0,children:(0,n.jsxs)("a",{href:D.recording_url,download:!0,children:[(0,n.jsx)(x.Z,{className:"w-4 h-4 mr-2"}),"Download Recording"]})})]})]}),D.is_locked&&(0,n.jsxs)(r.Zb,{className:"border-rose-200 bg-rose-50",children:[(0,n.jsx)(r.Ol,{children:(0,n.jsx)(r.ll,{className:"text-lg text-rose-900",children:"Premium Content"})}),(0,n.jsx)(r.aY,{children:(0,n.jsx)("p",{className:"text-sm text-rose-800 mb-4",children:"This wedding content is currently locked. The host needs to upgrade to Premium to unlock streaming."})})]}),(0,n.jsx)(z.Z,{weddingId:C})]})]})})]}):(0,n.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-rose-50 via-white to-purple-50 flex items-center justify-center",children:(0,n.jsxs)(r.Zb,{className:"max-w-md text-center",children:[(0,n.jsxs)(r.Ol,{children:[(0,n.jsx)(r.ll,{children:"Wedding Not Found"}),(0,n.jsx)(r.SZ,{children:"This wedding event doesn't exist or has been removed."})]}),(0,n.jsx)(r.aY,{children:(0,n.jsx)(y.default,{href:"/weddings",children:(0,n.jsx)(a.z,{children:"Browse All Weddings"})})})]})})}function F(e){let{params:t,searchParams:s}=e;return(0,n.jsx)(U,{children:(0,n.jsx)(D.w,{weddingId:t.id,children:(0,n.jsx)(W,{params:t,searchParams:s})})})}},74414:function(e,t,s){"use strict";s.d(t,{Z:function(){return o}});var n=s(57437);function o(e){let{playbackUrl:t,autoPlay:s=!1,controls:o=!0,muted:a=!1,className:r=""}=e;return(0,n.jsx)("div",{className:"w-full ".concat(r),children:(0,n.jsx)("video",{src:t,autoPlay:s,controls:o,muted:a,playsInline:!0,className:"w-full h-full object-contain bg-black"})})}s(2265)},11980:function(e,t,s){"use strict";s.d(t,{X:function(){return i},bZ:function(){return d}});var n=s(57437),o=s(2265),a=s(13027),r=s(77700);let l=(0,a.j)("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),d=o.forwardRef((e,t)=>{let{className:s,variant:o,...a}=e;return(0,n.jsx)("div",{ref:t,role:"alert",className:(0,r.cn)(l({variant:o}),s),...a})});d.displayName="Alert",o.forwardRef((e,t)=>{let{className:s,...o}=e;return(0,n.jsx)("h5",{ref:t,className:(0,r.cn)("mb-1 font-medium leading-none tracking-tight",s),...o})}).displayName="AlertTitle";let i=o.forwardRef((e,t)=>{let{className:s,...o}=e;return(0,n.jsx)("div",{ref:t,className:(0,r.cn)("text-sm [&_p]:leading-relaxed",s),...o})});i.displayName="AlertDescription"},71561:function(e,t,s){"use strict";function n(e){if(!e||"string"!=typeof e)return null;let t=(e=e.trim()).match(/(?:youtube\.com\/watch\?v=|youtube\.com\/watch\?.*&v=)([a-zA-Z0-9_-]{11})/);if(t)return t[1];let s=e.match(/youtu\.be\/([a-zA-Z0-9_-]{11})/);if(s)return s[1];let n=e.match(/youtube\.com\/embed\/([a-zA-Z0-9_-]{11})/);if(n)return n[1];let o=e.match(/youtube\.com\/v\/([a-zA-Z0-9_-]{11})/);return o?o[1]:null}function o(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=n(e);if(!s)return null;let{autoplay:o=0,mute:a=0,controls:r=1,modestbranding:l=1,rel:d=0}=t,i=new URLSearchParams({autoplay:o.toString(),mute:a.toString(),controls:r.toString(),modestbranding:l.toString(),rel:d.toString()});return"https://www.youtube.com/embed/".concat(s,"?").concat(i.toString())}function a(e){return null!==n(e)}s.d(t,{Tc:function(){return o},yk:function(){return a}})},95137:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});let n=(0,s(78030).Z)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},24241:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});let n=(0,s(78030).Z)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},76780:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});let n=(0,s(78030).Z)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},40933:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});let n=(0,s(78030).Z)("clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},23787:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});let n=(0,s(78030).Z)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]])},75733:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});let n=(0,s(78030).Z)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},49321:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});let n=(0,s(78030).Z)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},71510:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});let n=(0,s(78030).Z)("share-2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]])},11240:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});let n=(0,s(78030).Z)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]])},9229:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});let n=(0,s(78030).Z)("youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]])},57818:function(e,t,s){"use strict";s.d(t,{default:function(){return o.a}});var n=s(50551),o=s.n(n)},50551:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a}});let n=s(99920);s(57437),s(2265);let o=n._(s(40148));function a(e,t){var s;let n={loading:e=>{let{error:t,isLoading:s,pastDelay:n}=e;return null}};"function"==typeof e&&(n.loader=e);let a={...n,...t};return(0,o.default)({...a,modules:null==(s=a.loadableGenerated)?void 0:s.modules})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},10912:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return o}});let n=s(55592);function o(e){let{reason:t,children:s}=e;if("undefined"==typeof window)throw new n.BailoutToCSRError(t);return s}},40148:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i}});let n=s(57437),o=s(2265),a=s(10912),r=s(61481);function l(e){return{default:e&&"default"in e?e.default:e}}let d={loader:()=>Promise.resolve(l(()=>null)),loading:null,ssr:!0},i=function(e){let t={...d,...e},s=(0,o.lazy)(()=>t.loader().then(l)),i=t.loading;function c(e){let l=i?(0,n.jsx)(i,{isLoading:!0,pastDelay:!0,error:null}):null,d=t.ssr?(0,n.jsxs)(n.Fragment,{children:["undefined"==typeof window?(0,n.jsx)(r.PreloadCss,{moduleIds:t.modules}):null,(0,n.jsx)(s,{...e})]}):(0,n.jsx)(a.BailoutToCSR,{reason:"next/dynamic",children:(0,n.jsx)(s,{...e})});return(0,n.jsx)(o.Suspense,{fallback:l,children:d})}return c.displayName="LoadableComponent",c}},61481:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadCss",{enumerable:!0,get:function(){return a}});let n=s(57437),o=s(58512);function a(e){let{moduleIds:t}=e;if("undefined"!=typeof window)return null;let s=(0,o.getExpectedRequestStore)("next/dynamic css"),a=[];if(s.reactLoadableManifest&&t){let e=s.reactLoadableManifest;for(let s of t){if(!e[s])continue;let t=e[s].files.filter(e=>e.endsWith(".css"));a.push(...t)}}return 0===a.length?null:(0,n.jsx)(n.Fragment,{children:a.map(e=>(0,n.jsx)("link",{precedence:"dynamic",rel:"stylesheet",href:s.assetPrefix+"/_next/"+encodeURI(e),as:"style"},e))})}}},function(e){e.O(0,[9767,4868,7776,7515,2889,7999,8916,6046,9178,2645,2971,7023,1744],function(){return e(e.s=26232)}),_N_E=e.O()}]);