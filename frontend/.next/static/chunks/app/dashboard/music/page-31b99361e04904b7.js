(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1565],{14816:function(e,s,a){Promise.resolve().then(a.bind(a,15010))},15010:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return U}});var t=a(57437),r=a(2265),l=a(16463),i=a(15730),n=a(10273),c=a(56360),o=a(65236),d=a(92404),u=a(79004),x=a(32816),m=a(3274),h=a(14504),f=a(46290),p=a(76780),g=a(54817),j=a(58184),v=a(24841),y=a(98094),N=a(40933),b=a(10883),w=a(91863),k=a(27776),Z=a(6657),M=a(68639),C=a(10464),z=a(92940);let S=(0,a(78030).Z)("file",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);function _(e){let{open:s,onClose:a,onSuccess:l,storageInfo:i}=e,[n,o]=(0,r.useState)(null),[u,h]=(0,r.useState)(""),[f,g]=(0,r.useState)(""),[v,y]=(0,r.useState)(!1),[N,b]=(0,r.useState)(0),[w,_]=(0,r.useState)(!1),A=e=>{e.preventDefault(),e.stopPropagation(),"dragenter"===e.type||"dragover"===e.type?_(!0):"dragleave"===e.type&&_(!1)},D=e=>{if(!["audio/mpeg","audio/mp3","audio/wav","audio/aac","audio/ogg","audio/x-m4a"].includes(e.type)&&!e.name.match(/\.(mp3|wav|aac|ogg|m4a)$/i)){k.toast.error("Invalid file type. Please upload MP3, WAV, AAC, OGG, or M4A files.");return}if(e.size>52428800){k.toast.error("File too large. Maximum size is 50MB.");return}if(i&&i.storage_used+e.size>i.storage_limit){k.toast.error("Not enough storage space. Please delete some files or upgrade your plan.");return}o(e),u||h(e.name.replace(/\.[^/.]+$/,""))},P=async()=>{if(!n){k.toast.error("Please select a file");return}if(!u.trim()){k.toast.error("Please enter a title");return}try{y(!0),b(0);let e=new FormData;e.append("file",n),e.append("title",u),f&&e.append("artist",f),e.append("is_private","true"),await Z.default.post("/api/music/upload",e,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:e=>{let s=Math.round(100*e.loaded/e.total);b(s)}}),k.toast.success("Music uploaded successfully!"),B(),l&&l()}catch(a){var e,s;console.error("Upload failed:",a),k.toast.error((null===(s=a.response)||void 0===s?void 0:null===(e=s.data)||void 0===e?void 0:e.detail)||"Failed to upload music")}finally{y(!1),b(0)}},B=()=>{v||(o(null),h(""),g(""),b(0),a())};return(0,t.jsx)(M.Vq,{open:s,onOpenChange:B,children:(0,t.jsxs)(M.cZ,{className:"sm:max-w-[500px]",children:[(0,t.jsxs)(M.fK,{children:[(0,t.jsx)(M.$N,{children:"Upload Music"}),(0,t.jsx)(M.Be,{children:"Upload your personal music files. Supported formats: MP3, WAV, AAC, OGG, M4A (Max 50MB)"})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[i&&i.percentage>80&&(0,t.jsxs)("div",{className:"flex items-start space-x-2 text-sm text-orange-600 bg-orange-50 p-3 rounded-lg",children:[(0,t.jsx)(p.Z,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),(0,t.jsxs)("span",{children:["Storage is ",i.percentage,"% full. You have ",i.storage_limit_formatted," total."]})]}),(0,t.jsx)("div",{className:"border-2 border-dashed rounded-lg p-8 text-center transition-colors ".concat(w?"border-rose-500 bg-rose-50":"border-gray-300 hover:border-gray-400"),onDragEnter:A,onDragLeave:A,onDragOver:A,onDrop:e=>{e.preventDefault(),e.stopPropagation(),_(!1),e.dataTransfer.files&&e.dataTransfer.files[0]&&D(e.dataTransfer.files[0])},children:n?(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(z.Z,{className:"w-12 h-12 text-green-500 mx-auto"}),(0,t.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,t.jsx)(S,{className:"w-5 h-5 text-gray-500"}),(0,t.jsx)("span",{className:"font-medium text-gray-900",children:n.name})]}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:(e=>{if(!e)return"0 B";let s=Math.floor(Math.log(e)/Math.log(1024));return"".concat((e/Math.pow(1024,s)).toFixed(2)," ").concat(["B","KB","MB","GB"][s])})(n.size)}),(0,t.jsx)(c.z,{variant:"outline",size:"sm",onClick:()=>o(null),disabled:v,children:"Change File"})]}):(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(j.Z,{className:"w-12 h-12 text-gray-400 mx-auto"}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{htmlFor:"file-upload",className:"cursor-pointer",children:[(0,t.jsx)("span",{className:"text-rose-600 hover:text-rose-500 font-medium",children:"Click to upload"}),(0,t.jsx)("span",{className:"text-gray-500",children:" or drag and drop"})]}),(0,t.jsx)("input",{id:"file-upload",type:"file",className:"hidden",accept:".mp3,.wav,.aac,.ogg,.m4a,audio/*",onChange:e=>{e.target.files&&e.target.files[0]&&D(e.target.files[0])}})]}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:"MP3, WAV, AAC, OGG, M4A (max 50MB)"})]})}),v&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Uploading..."}),(0,t.jsxs)("span",{className:"text-gray-600",children:[N,"%"]})]}),(0,t.jsx)(x.E,{value:N,className:"h-2"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(C._,{htmlFor:"title",children:"Title *"}),(0,t.jsx)(d.I,{id:"title",placeholder:"Enter song title",value:u,onChange:e=>h(e.target.value),disabled:v})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(C._,{htmlFor:"artist",children:"Artist (Optional)"}),(0,t.jsx)(d.I,{id:"artist",placeholder:"Enter artist name",value:f,onChange:e=>g(e.target.value),disabled:v})]})]}),(0,t.jsxs)(M.cN,{children:[(0,t.jsx)(c.z,{variant:"outline",onClick:B,disabled:v,children:"Cancel"}),(0,t.jsx)(c.z,{onClick:P,disabled:!n||!u.trim()||v,className:"bg-rose-500 hover:bg-rose-600",children:v?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(m.Z,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(j.Z,{className:"w-4 h-4 mr-2"}),"Upload"]})})]})]})})}var A=a(85398),D=a(23395),P=a(38733),B=a(74697);function L(e){let{track:s,onClose:a}=e,l=(0,r.useRef)(null),[i,n]=(0,r.useState)(!1),[o,d]=(0,r.useState)(0),[u,x]=(0,r.useState)(0),[m,h]=(0,r.useState)(70),[f,p]=(0,r.useState)(!1);(0,r.useEffect)(()=>{l.current&&(l.current.src=s.file_url,l.current.volume=m/100,l.current.play().catch(console.error),n(!0))},[s]),(0,r.useEffect)(()=>{l.current&&(l.current.volume=f?0:m/100)},[m,f]);let g=e=>isNaN(e)?"0:00":"".concat(Math.floor(e/60),":").concat(Math.floor(e%60).toString().padStart(2,"0"));return(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)("audio",{ref:l,onTimeUpdate:()=>{l.current&&d(l.current.currentTime)},onLoadedMetadata:()=>{l.current&&x(l.current.duration)},onEnded:()=>n(!1)}),(0,t.jsx)(c.z,{variant:"ghost",size:"icon",onClick:()=>{l.current&&(i?l.current.pause():l.current.play(),n(!i))},className:"flex-shrink-0",children:i?(0,t.jsx)(v.Z,{className:"w-5 h-5"}):(0,t.jsx)(y.Z,{className:"w-5 h-5"})}),(0,t.jsxs)("div",{className:"flex-shrink-0 min-w-0",children:[(0,t.jsx)("h4",{className:"font-medium text-sm truncate",children:s.title}),s.artist&&(0,t.jsx)("p",{className:"text-xs text-gray-500 truncate",children:s.artist})]}),(0,t.jsxs)("div",{className:"flex-1 flex items-center space-x-2",children:[(0,t.jsx)("span",{className:"text-xs text-gray-500 flex-shrink-0",children:g(o)}),(0,t.jsx)(A.i,{value:[o],max:u||100,step:1,onValueChange:e=>{l.current&&(l.current.currentTime=e[0],d(e[0]))},className:"flex-1"}),(0,t.jsx)("span",{className:"text-xs text-gray-500 flex-shrink-0",children:g(u)})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2 flex-shrink-0",children:[(0,t.jsx)(c.z,{variant:"ghost",size:"icon",onClick:()=>p(!f),children:f?(0,t.jsx)(D.Z,{className:"w-4 h-4"}):(0,t.jsx)(P.Z,{className:"w-4 h-4"})}),(0,t.jsx)(A.i,{value:[m],max:100,step:1,onValueChange:e=>h(e[0]),className:"w-24"})]}),(0,t.jsx)(c.z,{variant:"ghost",size:"icon",onClick:a,className:"flex-shrink-0",children:(0,t.jsx)(B.Z,{className:"w-5 h-5"})})]})}var F=a(15926);function U(){let e=(0,l.useRouter)(),{user:s,loading:a}=(0,i.a)(),[M,C]=(0,r.useState)(!0),[z,S]=(0,r.useState)("my-music"),[A,D]=(0,r.useState)([]),[P,B]=(0,r.useState)([]),[U,E]=(0,r.useState)(null),[V,R]=(0,r.useState)(""),[H,O]=(0,r.useState)(!1),[T,G]=(0,r.useState)(null),[W,I]=(0,r.useState)("background_music"),[q,Y]=(0,r.useState)(!1);(0,r.useEffect)(()=>{a||s?s&&($(),K()):e.push("/login")},[s,a,e,z,W]);let $=async()=>{try{if(C(!0),"my-music"===z){let e=await Z.default.get("/api/music/my-library");D(e.data)}else{let e=await Z.default.get("/api/music/library?category=".concat(W));B(e.data)}}catch(e){console.error("Failed to load music:",e),k.toast.error("Failed to load music library")}finally{C(!1)}},K=async()=>{try{let e=await Z.default.get("/api/music/storage");E(e.data)}catch(e){console.error("Failed to load storage info:",e)}},Q=async e=>{if(confirm("Are you sure you want to delete this music?"))try{await Z.default.delete("/api/music/".concat(e)),k.toast.success("Music deleted successfully"),$(),K()}catch(e){var s,a;console.error("Failed to delete music:",e),k.toast.error((null===(a=e.response)||void 0===a?void 0:null===(s=a.data)||void 0===s?void 0:s.detail)||"Failed to delete music")}},X=e=>{(null==T?void 0:T.id)===e.id?G(null):G(e)},J=e=>e?"".concat(Math.floor(e/60),":").concat((e%60).toString().padStart(2,"0")):"--:--",ee=e=>{if(!e)return"0 B";let s=Math.floor(Math.log(e)/Math.log(1024));return"".concat((e/Math.pow(1024,s)).toFixed(2)," ").concat(["B","KB","MB","GB"][s])},es=A.filter(e=>e.title.toLowerCase().includes(V.toLowerCase())||e.artist&&e.artist.toLowerCase().includes(V.toLowerCase())),ea=P.filter(e=>e.title.toLowerCase().includes(V.toLowerCase())||e.artist&&e.artist.toLowerCase().includes(V.toLowerCase()));return a||M?(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(m.Z,{className:"w-12 h-12 text-rose-500 animate-spin mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Loading music library..."})]})}):(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,t.jsx)(F.Z,{isOpen:q,onToggle:()=>Y(!q),user:s}),(0,t.jsxs)("div",{className:"lg:pl-64",children:[(0,t.jsx)("div",{className:"bg-white border-b sticky top-0 z-10",children:(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)(c.z,{variant:"ghost",size:"icon",className:"lg:hidden",onClick:()=>Y(!q),children:(0,t.jsx)(h.Z,{className:"w-5 h-5"})}),(0,t.jsx)(h.Z,{className:"w-8 h-8 text-rose-500"}),(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Music Library"})]}),(0,t.jsx)(c.z,{onClick:()=>e.push("/dashboard"),variant:"outline",children:"Back to Dashboard"})]})})}),(0,t.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[U&&(0,t.jsx)(n.Zb,{className:"mb-6",children:(0,t.jsxs)(n.aY,{className:"pt-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(f.Z,{className:"w-5 h-5 text-gray-500"}),(0,t.jsx)("h3",{className:"font-semibold",children:"Storage Usage"})]}),(0,t.jsxs)(u.C,{variant:U.percentage>80?"destructive":"secondary",children:[U.percentage,"% Used"]})]}),(0,t.jsx)(x.E,{value:U.percentage,className:"h-2 mb-2"}),(0,t.jsxs)("div",{className:"flex justify-between text-sm text-gray-600",children:[(0,t.jsxs)("span",{children:[U.storage_used_formatted," used"]}),(0,t.jsxs)("span",{children:[U.storage_limit_formatted," total"]})]}),U.percentage>80&&(0,t.jsxs)("div",{className:"mt-3 flex items-start space-x-2 text-sm text-orange-600",children:[(0,t.jsx)(p.Z,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),(0,t.jsx)("span",{children:"Storage is almost full. Consider deleting unused files or upgrading to premium."})]})]})}),(0,t.jsxs)(o.mQ,{value:z,onValueChange:S,className:"mb-6",children:[(0,t.jsxs)(o.dr,{className:"grid w-full grid-cols-2",children:[(0,t.jsx)(o.SP,{value:"my-music",children:"My Music"}),(0,t.jsx)(o.SP,{value:"public-library",children:"Public Library"})]}),(0,t.jsxs)(o.nU,{value:"my-music",className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"relative flex-1 max-w-md",children:[(0,t.jsx)(g.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,t.jsx)(d.I,{placeholder:"Search your music...",className:"pl-10",value:V,onChange:e=>R(e.target.value)})]}),(0,t.jsxs)(c.z,{onClick:()=>O(!0),className:"ml-4 bg-rose-500 hover:bg-rose-600",disabled:U&&U.percentage>=100,children:[(0,t.jsx)(j.Z,{className:"w-4 h-4 mr-2"}),"Upload Music"]})]}),(0,t.jsxs)(n.Zb,{children:[(0,t.jsxs)(n.Ol,{children:[(0,t.jsx)(n.ll,{children:"My Music Collection"}),(0,t.jsxs)(n.SZ,{children:[es.length," track",1!==es.length?"s":""]})]}),(0,t.jsx)(n.aY,{children:0===es.length?(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(h.Z,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No music yet"}),(0,t.jsx)("p",{className:"text-gray-500 mb-4",children:"Upload your first music track to get started"}),(0,t.jsxs)(c.z,{onClick:()=>O(!0),className:"bg-rose-500 hover:bg-rose-600",children:[(0,t.jsx)(j.Z,{className:"w-4 h-4 mr-2"}),"Upload Music"]})]}):(0,t.jsx)("div",{className:"space-y-3",children:es.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 rounded-lg border hover:border-rose-300 hover:bg-rose-50/50 transition-colors",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4 flex-1",children:[(0,t.jsx)(c.z,{variant:"ghost",size:"icon",onClick:()=>X(e),className:"flex-shrink-0",children:(null==T?void 0:T.id)===e.id?(0,t.jsx)(v.Z,{className:"w-5 h-5 text-rose-500"}):(0,t.jsx)(y.Z,{className:"w-5 h-5 text-gray-600"})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("h4",{className:"font-medium text-gray-900 truncate",children:e.title}),e.artist&&(0,t.jsx)("p",{className:"text-sm text-gray-500 truncate",children:e.artist})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,t.jsx)(N.Z,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:J(e.duration)})]}),(0,t.jsx)("span",{children:ee(e.file_size)}),(0,t.jsx)(c.z,{variant:"ghost",size:"icon",onClick:()=>Q(e.id),className:"text-red-500 hover:text-red-600 hover:bg-red-50",children:(0,t.jsx)(b.Z,{className:"w-4 h-4"})})]})]},e.id))})})]})]}),(0,t.jsxs)(o.nU,{value:"public-library",className:"space-y-6",children:[(0,t.jsx)("div",{className:"flex items-center space-x-2 overflow-x-auto pb-2",children:[{value:"background_music",label:"Background Music",icon:"\uD83C\uDFB5"},{value:"sound_effect",label:"Sound Effects",icon:"\uD83D\uDD0A"},{value:"transition",label:"Transitions",icon:"âš¡"},{value:"emotion",label:"Emotions",icon:"\uD83D\uDC96"}].map(e=>(0,t.jsxs)(c.z,{variant:W===e.value?"default":"outline",onClick:()=>I(e.value),className:W===e.value?"bg-rose-500 hover:bg-rose-600":"",children:[(0,t.jsx)("span",{className:"mr-2",children:e.icon}),e.label]},e.value))}),(0,t.jsxs)("div",{className:"relative max-w-md",children:[(0,t.jsx)(g.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,t.jsx)(d.I,{placeholder:"Search public library...",className:"pl-10",value:V,onChange:e=>R(e.target.value)})]}),(0,t.jsxs)(n.Zb,{children:[(0,t.jsxs)(n.Ol,{children:[(0,t.jsx)(n.ll,{children:"Public Music Library"}),(0,t.jsxs)(n.SZ,{children:[ea.length," track",1!==ea.length?"s":""," available"]})]}),(0,t.jsx)(n.aY,{children:0===ea.length?(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(w.Z,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-500",children:"No music found in this category"})]}):(0,t.jsx)("div",{className:"space-y-3",children:ea.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 rounded-lg border hover:border-rose-300 hover:bg-rose-50/50 transition-colors",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4 flex-1",children:[(0,t.jsx)(c.z,{variant:"ghost",size:"icon",onClick:()=>X(e),className:"flex-shrink-0",children:(null==T?void 0:T.id)===e.id?(0,t.jsx)(v.Z,{className:"w-5 h-5 text-rose-500"}):(0,t.jsx)(y.Z,{className:"w-5 h-5 text-gray-600"})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("h4",{className:"font-medium text-gray-900 truncate",children:e.title}),e.artist&&(0,t.jsx)("p",{className:"text-sm text-gray-500 truncate",children:e.artist}),e.folder_name&&(0,t.jsxs)("p",{className:"text-xs text-gray-400",children:["\uD83D\uDCC1 ",e.folder_name]})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,t.jsx)(N.Z,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:J(e.duration)})]}),(0,t.jsx)(u.C,{variant:"secondary",children:e.category})]})]},e.id))})})]})]})]})]})]}),(0,t.jsx)(_,{open:H,onClose:()=>O(!1),onSuccess:()=>{O(!1),$(),K(),k.toast.success("Music uploaded successfully!")},storageInfo:U}),T&&(0,t.jsx)("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t shadow-lg z-50",children:(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4 py-4",children:(0,t.jsx)(L,{track:T,onClose:()=>G(null)})})})]})}},15926:function(e,s,a){"use strict";a.d(s,{Z:function(){return y}});var t=a(57437),r=a(2265),l=a(87138),i=a(16463),n=a(56360);a(79004);var c=a(32816),o=a(83852),d=a(68954),u=a(14504),x=a(4436),m=a(52022),h=a(24258),f=a(74697),p=a(87592),g=a(957),j=a(77700),v=a(6657);function y(e){let{isOpen:s,onToggle:a,user:y}=e,N=(0,i.usePathname)(),[b,w]=(0,r.useState)(null),[k,Z]=(0,r.useState)(!0);(0,r.useEffect)(()=>{M()},[]);let M=async()=>{try{let e=await v.default.get("/api/music/storage");w(e.data)}catch(e){console.error("Failed to load storage info:",e)}finally{Z(!1)}},C=[{name:"Dashboard",href:"/dashboard",icon:o.Z},{name:"My Weddings",href:"/weddings",icon:d.Z},{name:"Music Library",href:"/dashboard/music",icon:u.Z},{name:"Browse Weddings",href:"/browse",icon:x.Z},{name:"Profile",href:"/profile",icon:m.Z},{name:"Settings",href:"/settings",icon:h.Z}],z=(null==y?void 0:y.subscription_plan)==="monthly"||(null==y?void 0:y.subscription_plan)==="yearly";return(0,t.jsxs)(t.Fragment,{children:[s&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:a}),(0,t.jsx)("aside",{className:(0,j.cn)("fixed top-0 left-0 z-50 h-screen bg-white border-r border-gray-200 transition-transform duration-300 ease-in-out","w-64 lg:translate-x-0",s?"translate-x-0":"-translate-x-full"),children:(0,t.jsxs)("div",{className:"flex flex-col h-full",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 border-b",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(d.Z,{className:"w-6 h-6 text-rose-500"}),(0,t.jsx)("h2",{className:"font-semibold text-lg",children:"WedLive"})]}),(0,t.jsx)(n.z,{variant:"ghost",size:"icon",className:"lg:hidden",onClick:a,children:(0,t.jsx)(f.Z,{className:"w-5 h-5"})})]}),(0,t.jsx)("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:C.map(e=>{let s=N===e.href,r=e.icon;return(0,t.jsxs)(l.default,{href:e.href,className:(0,j.cn)("flex items-center space-x-3 px-3 py-2 rounded-lg transition-colors group",s?"bg-rose-50 text-rose-600":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"),onClick:()=>{window.innerWidth<1024&&a()},children:[(0,t.jsx)(r,{className:(0,j.cn)("w-5 h-5",s?"text-rose-600":"text-gray-400 group-hover:text-gray-600")}),(0,t.jsx)("span",{className:"font-medium",children:e.name}),s&&(0,t.jsx)(p.Z,{className:"w-4 h-4 ml-auto"})]},e.name)})}),(0,t.jsxs)("div",{className:"p-4 border-t space-y-4",children:[!k&&b&&(0,t.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("span",{className:"text-xs font-medium text-gray-600",children:"Storage"}),(0,t.jsxs)("span",{className:"text-xs text-gray-500",children:[b.percentage,"%"]})]}),(0,t.jsx)(c.E,{value:b.percentage,className:"h-2 mb-2"}),(0,t.jsxs)("div",{className:"text-xs text-gray-500",children:[b.storage_used_formatted," / ",b.storage_limit_formatted]}),b.percentage>80&&(0,t.jsx)("p",{className:"text-xs text-orange-600 mt-1",children:"Storage almost full!"})]}),z?(0,t.jsxs)("div",{className:"bg-gradient-to-r from-yellow-400 to-orange-500 rounded-lg p-3 text-white",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,t.jsx)(g.Z,{className:"w-4 h-4"}),(0,t.jsx)("span",{className:"text-sm font-semibold",children:"Premium Plan"})]}),(0,t.jsxs)("p",{className:"text-xs opacity-90 capitalize",children:[null==y?void 0:y.subscription_plan," subscription"]})]}):(0,t.jsxs)("div",{className:"bg-gradient-to-r from-rose-500 to-purple-500 rounded-lg p-3 text-white",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,t.jsx)(g.Z,{className:"w-4 h-4"}),(0,t.jsx)("span",{className:"text-sm font-semibold",children:"Upgrade to Premium"})]}),(0,t.jsx)("p",{className:"text-xs opacity-90 mb-2",children:"Get more storage and features"}),(0,t.jsx)(l.default,{href:"/premium",children:(0,t.jsx)(n.z,{size:"sm",className:"w-full bg-white text-rose-600 hover:bg-gray-100",children:"View Plans"})})]})]})]})})]})}},92404:function(e,s,a){"use strict";a.d(s,{I:function(){return i}});var t=a(57437),r=a(2265),l=a(77700);let i=r.forwardRef((e,s)=>{let{className:a,type:r,...i}=e;return(0,t.jsx)("input",{type:r,className:(0,l.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:s,...i})});i.displayName="Input"},10464:function(e,s,a){"use strict";a.d(s,{_:function(){return o}});var t=a(57437),r=a(2265),l=a(38837),i=a(13027),n=a(77700);let c=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(l.f,{ref:s,className:(0,n.cn)(c(),a),...r})});o.displayName=l.f.displayName},32816:function(e,s,a){"use strict";a.d(s,{E:function(){return n}});var t=a(57437),r=a(2265),l=a(13993),i=a(77700);let n=r.forwardRef((e,s)=>{let{className:a,value:r,...n}=e;return(0,t.jsx)(l.fC,{ref:s,className:(0,i.cn)("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",a),...n,children:(0,t.jsx)(l.z$,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(r||0),"%)")}})})});n.displayName=l.fC.displayName},85398:function(e,s,a){"use strict";a.d(s,{i:function(){return n}});var t=a(57437),r=a(2265),l=a(67553),i=a(77700);let n=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsxs)(l.fC,{ref:s,className:(0,i.cn)("relative flex w-full touch-none select-none items-center",a),...r,children:[(0,t.jsx)(l.fQ,{className:"relative h-1.5 w-full grow overflow-hidden rounded-full bg-primary/20",children:(0,t.jsx)(l.e6,{className:"absolute h-full bg-primary"})}),(0,t.jsx)(l.bU,{className:"block h-4 w-4 rounded-full border border-primary/50 bg-background shadow transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50"})]})});n.displayName=l.fC.displayName},65236:function(e,s,a){"use strict";a.d(s,{SP:function(){return o},dr:function(){return c},mQ:function(){return n},nU:function(){return d}});var t=a(57437),r=a(2265),l=a(62447),i=a(77700);let n=l.fC,c=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(l.aV,{ref:s,className:(0,i.cn)("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",a),...r})});c.displayName=l.aV.displayName;let o=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(l.xz,{ref:s,className:(0,i.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",a),...r})});o.displayName=l.xz.displayName;let d=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(l.VY,{ref:s,className:(0,i.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),...r})});d.displayName=l.VY.displayName},40933:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});let t=(0,a(78030).Z)("clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},91863:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});let t=(0,a(78030).Z)("folder-open",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]])},83852:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});let t=(0,a(78030).Z)("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]])},24841:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});let t=(0,a(78030).Z)("pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]])},98094:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});let t=(0,a(78030).Z)("play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]])},54817:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});let t=(0,a(78030).Z)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},10883:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});let t=(0,a(78030).Z)("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},58184:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});let t=(0,a(78030).Z)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]])},52022:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});let t=(0,a(78030).Z)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},68954:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});let t=(0,a(78030).Z)("video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]])},38733:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});let t=(0,a(78030).Z)("volume-2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]])},23395:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});let t=(0,a(78030).Z)("volume-x",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]])},62361:function(e,s,a){"use strict";function t(e,[s,a]){return Math.min(a,Math.max(s,e))}a.d(s,{u:function(){return t}})},38837:function(e,s,a){"use strict";a.d(s,{f:function(){return c}});var t=a(2265);a(54887);var r=a(71538),l=a(57437),i=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,s)=>{let a=(0,r.Z8)(`Primitive.${s}`),i=t.forwardRef((e,t)=>{let{asChild:r,...i}=e,n=r?a:s;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,l.jsx)(n,{...i,ref:t})});return i.displayName=`Primitive.${s}`,{...e,[s]:i}},{}),n=t.forwardRef((e,s)=>(0,l.jsx)(i.label,{...e,ref:s,onMouseDown:s=>{var a;s.target.closest("button, input, select, textarea")||(null===(a=e.onMouseDown)||void 0===a||a.call(e,s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));n.displayName="Label";var c=n},47250:function(e,s,a){"use strict";a.d(s,{D:function(){return r}});var t=a(2265);function r(e){let s=t.useRef({value:e,previous:e});return t.useMemo(()=>(s.current.value!==e&&(s.current.previous=s.current.value,s.current.value=e),s.current.previous),[e])}},75238:function(e,s,a){"use strict";a.d(s,{t:function(){return l}});var t=a(2265),r=a(1336);function l(e){let[s,a]=t.useState(void 0);return(0,r.b)(()=>{if(e){a({width:e.offsetWidth,height:e.offsetHeight});let s=new ResizeObserver(s=>{let t,r;if(!Array.isArray(s)||!s.length)return;let l=s[0];if("borderBoxSize"in l){let e=l.borderBoxSize,s=Array.isArray(e)?e[0]:e;t=s.inlineSize,r=s.blockSize}else t=e.offsetWidth,r=e.offsetHeight;a({width:t,height:r})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}a(void 0)},[e]),s}}},function(e){e.O(0,[9767,4868,7776,7515,2889,2151,7999,7553,8861,6046,2971,7023,1744],function(){return e(e.s=14816)}),_N_E=e.O()}]);