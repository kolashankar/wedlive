"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8358],{38358:function(e,t,i){i.d(t,{Z:function(){return o}});var n=i(57437),l=i(2265);function o(e){var t,i,o,a,d,s,r,u;let{overlay:c,currentTime:h,duration:v,containerSize:m,referenceResolution:g,animationState:f=null,className:p="",templateDuration:x=null}=e,y=(0,l.useRef)(null),[_,w]=(0,l.useState)(1),[b,k]=(0,l.useState)(!0),M=(0,l.useMemo)(()=>{var e;let t=(null===(e=c.styling)||void 0===e?void 0:e.font_size)||48,i=g.height||1080;return"string"==typeof t&&t.trim().endsWith("%")?parseFloat(t):parseFloat(t)/i*100},[null===(t=c.styling)||void 0===t?void 0:t.font_size,g.height]),S=(0,l.useMemo)(()=>{var e,t;let i=(null===(e=c.styling)||void 0===e?void 0:e.font_size)||48,n=(null===(t=c.styling)||void 0===t?void 0:t.letter_spacing)||0;return i>0?n/i:0},[null===(i=c.styling)||void 0===i?void 0:i.font_size,null===(o=c.styling)||void 0===o?void 0:o.letter_spacing]),z=(0,l.useMemo)(()=>{var e,t,i;let n=(null===(e=c.styling)||void 0===e?void 0:e.font_size)||48,l=(null===(i=c.styling)||void 0===i?void 0:null===(t=i.stroke)||void 0===t?void 0:t.width)||2;return n>0?l/n:.05},[null===(a=c.styling)||void 0===a?void 0:a.font_size,null===(s=c.styling)||void 0===s?void 0:null===(d=s.stroke)||void 0===d?void 0:d.width]),W=(0,l.useMemo)(()=>{var e,t,i,n;let l=null!==(i=null===(e=c.timing)||void 0===e?void 0:e.start_time)&&void 0!==i?i:0,o=v||x||0,a=null!==(n=null===(t=c.timing)||void 0===t?void 0:t.end_time)&&void 0!==n?n:o;return 0!==o&&h>=l-.2&&h<=a+.2},[h,c.timing,v,x]),F=(0,l.useMemo)(()=>{var e,t,i,n;if(f)return f;let l=(null===(e=c.timing)||void 0===e?void 0:e.start_time)||0,o=v||x||0,a=(null===(t=c.timing)||void 0===t?void 0:t.end_time)||o,d=(null===(i=c.animation)||void 0===i?void 0:i.entrance)||{type:"fade-in",duration:1,easing:"ease-in-out"},s=(null===(n=c.animation)||void 0===n?void 0:n.exit)||{type:"fade-out",duration:1,easing:"ease-in-out"},r=1,u="";if(h<l+d.duration){let e=Math.max(0,Math.min(1,(h-l)/d.duration));switch(d.type){case"fade-in":default:r=e;break;case"slide-up":r=e,u="translateY(".concat((1-e)*10,"%)");break;case"slide-down":r=e,u="translateY(".concat(-(10*(1-e)),"%)");break;case"scale-up":case"zoom-in":r=e,u="scale(".concat(.5+.5*e,")")}}else if(h>a-s.duration){let e=1-Math.max(0,Math.min(1,(h-(a-s.duration))/s.duration));r=e,"slide-up"===s.type&&(u="translateY(".concat(-(10*(1-e)),"%)"))}return{opacity:r,transform:u}},[h,c.timing,c.animation,v,x,f]),C=c.position||{x:50,y:50},B=c.styling||{},D=c.dimensions||{},L=(0,l.useMemo)(()=>{let e=C.x,t=C.y;return("pixels"===C.unit||C.x>100||C.y>100)&&(e=C.x/g.width*100,t=C.y/g.height*100),{x:e,y:t}},[C,g]),j=(0,l.useMemo)(()=>{var e,t;let i=(null===(e=c.styling)||void 0===e?void 0:e.font_size)||48,n=null===(t=c.styling)||void 0===t?void 0:t.text_shadow;return n&&"none"!==n?n.replace(/(\d+\.?\d*)px/g,(e,t)=>{let n=parseFloat(t)/i;return"".concat(n.toFixed(4),"em")}):"0 0.04em 0.08em rgba(0,0,0,0.5)"},[null===(r=c.styling)||void 0===r?void 0:r.font_size,null===(u=c.styling)||void 0===u?void 0:u.text_shadow]),E=(0,l.useMemo)(()=>{var e;let t=c.styling||{},i=M/100*m.height*_;return{fontSize:"".concat(i,"px"),fontFamily:t.font_family||"Playfair Display",fontWeight:t.font_weight||"bold",color:t.color||"#ffffff",textAlign:t.text_align||"center",letterSpacing:"".concat(S,"em"),lineHeight:t.line_height||1.2,textShadow:j,WebkitTextStroke:(null===(e=t.stroke)||void 0===e?void 0:e.enabled)?"".concat(z,"em ").concat(t.stroke.color||"#000000"):"none"}},[c.styling,M,S,z,j,m.height,_]),N=(0,l.useMemo)(()=>{let e=D.width?"".concat(D.width,"%"):"auto",t=D.height?"".concat(D.height,"%"):"auto";return{width:e,height:t,maxWidth:D.width?"".concat(D.width,"%"):"90%",minWidth:"auto",minHeight:"auto"!==t?t:void 0,boxSizing:"border-box"}},[D]),T=(0,l.useMemo)(()=>{let e=c.text||c.text_value||c.placeholder_text||"Sample Text",t=e.includes("\n"),i=(c.endpoint_key||"").toLowerCase(),n=(c.label||"").toLowerCase(),l=i.includes("time")||n.includes("time")||i.includes("date")||n.includes("date")||i.includes("day")||n.includes("day")||i.includes("year")||n.includes("year")||i.includes("month")||n.includes("month")||i.includes("hour")||n.includes("hour")||i.includes("minute")||n.includes("minute")||i.includes("clock")||n.includes("clock"),o=i.includes("venue")||n.includes("venue")||i.includes("address")||n.includes("address")||i.includes("location")||n.includes("location")||i.includes("place")||n.includes("place");return!t&&(!!l||!o&&e.length<20)},[c.text,c.text_value,c.placeholder_text,c.endpoint_key,c.label]);return((0,l.useLayoutEffect)(()=>{let e;let t=y.current;if(!t||!W)return;if(!D.width){1!==_&&w(1),k(!1);return}let i=t.scrollWidth,n=t.clientWidth,l=_||1;if(T){let i=t.style.whiteSpace;t.style.whiteSpace="nowrap";let n=t.scrollWidth;t.style.whiteSpace=i,e=n/l}else e=i/l;let o=1;e>n&&(o=n/e);let a=T?.99:.98;(o=Math.min(o,1))<1&&(o*=a),Math.abs(o-_)>.01?w(o):k(!1)},[c.text,c.text_value,c.placeholder_text,m.width,m.height,M,D.width,D.height,W,_,T]),W)?(0,n.jsx)("div",{className:"absolute ".concat(p),style:{left:"".concat(L.x,"%"),top:"".concat(L.y,"%"),transform:"translate(-50%, -50%) ".concat(F.transform),opacity:F.opacity,zIndex:c.layer_index||1,...N,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"left"===B.text_align?"flex-start":"right"===B.text_align?"flex-end":"center",boxSizing:"border-box",margin:0,padding:T?"0.05em 0.1em":"0.2em 0.4em",willChange:"opacity, transform",transition:"none",overflow:"visible",visibility:b&&1===_?"hidden":"visible"},children:(0,n.jsx)("span",{ref:y,style:{display:"block",width:"100%",...E,whiteSpace:T?"nowrap":"pre-wrap",wordWrap:T?"normal":"break-word",overflowWrap:"normal",wordBreak:T?"keep-all":"normal",hyphens:"auto",overflow:"visible",textRendering:"optimizeLegibility",WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",textOverflow:"clip",WebkitBoxDecorationBreak:"clone",boxDecorationBreak:"clone"},children:c.text||c.text_value||c.placeholder_text||"Sample Text"})}):null}}}]);