exports.id=4342,exports.ids=[4342],exports.modules={87529:()=>{},44556:(e,t,r)=>{Promise.resolve().then(r.bind(r,98324)),Promise.resolve().then(r.bind(r,75762)),Promise.resolve().then(r.bind(r,4291)),Promise.resolve().then(r.bind(r,41476)),Promise.resolve().then(r.bind(r,88646))},74372:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,12994,23)),Promise.resolve().then(r.t.bind(r,96114,23)),Promise.resolve().then(r.t.bind(r,9727,23)),Promise.resolve().then(r.t.bind(r,79671,23)),Promise.resolve().then(r.t.bind(r,41868,23)),Promise.resolve().then(r.t.bind(r,84759,23))},98324:(e,t,r)=>{"use strict";r.d(t,{default:()=>c});var o=r(10326),n=r(17577),s=r(88646),a=r(97134),i=r(18729),l=r(41291),d=r(21405),u=r(35047);function c(){let{token:e,logout:t,isTokenExpired:r}=(0,s.a)(),[c,p]=(0,n.useState)(!1),g=(0,u.useRouter)();return c?o.jsx("div",{className:"fixed bottom-4 right-4 z-50 max-w-md",children:(0,o.jsxs)(a.bZ,{variant:"destructive",className:"shadow-lg",children:[o.jsx(l.Z,{className:"h-4 w-4"}),(0,o.jsxs)(a.X,{className:"flex items-center justify-between gap-4",children:[(0,o.jsxs)("div",{children:[o.jsx("p",{className:"font-semibold",children:"Session Expired"}),o.jsx("p",{className:"text-sm",children:"Your session has expired. Please log in again to continue."})]}),(0,o.jsxs)(i.z,{size:"sm",variant:"outline",onClick:()=>{t(),g.push("/login?expired=true")},className:"shrink-0",children:[o.jsx(d.Z,{className:"w-4 h-4 mr-2"}),"Re-login"]})]})]})}):null}},97134:(e,t,r)=>{"use strict";r.d(t,{X:()=>d,bZ:()=>l});var o=r(10326),n=r(17577),s=r(79360),a=r(46084);let i=(0,s.j)("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),l=n.forwardRef(({className:e,variant:t,...r},n)=>o.jsx("div",{ref:n,role:"alert",className:(0,a.cn)(i({variant:t}),e),...r}));l.displayName="Alert",n.forwardRef(({className:e,...t},r)=>o.jsx("h5",{ref:r,className:(0,a.cn)("mb-1 font-medium leading-none tracking-tight",e),...t})).displayName="AlertTitle";let d=n.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:(0,a.cn)("text-sm [&_p]:leading-relaxed",e),...t}));d.displayName="AlertDescription"},18729:(e,t,r)=>{"use strict";r.d(t,{z:()=>d});var o=r(10326),n=r(17577),s=r(34214),a=r(79360),i=r(46084);let l=(0,a.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),d=n.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},d)=>{let u=n?s.g7:"button";return o.jsx(u,{className:(0,i.cn)(l({variant:t,size:r,className:e})),ref:d,...a})});d.displayName="Button"},75762:(e,t,r)=>{"use strict";r.d(t,{Toaster:()=>a});var o=r(10326),n=r(85999),s=r(14831);let a=({...e})=>{let{theme:t="light"}=(0,s.F)();return o.jsx(n.x,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})}},4291:(e,t,r)=>{"use strict";r.d(t,{BorderProvider:()=>a,P:()=>i});var o=r(10326),n=r(17577);let s=(0,n.createContext)();function a({children:e}){let[t,r]=(0,n.useState)({groom_border_id:null,bride_border_id:null,couple_border_id:null,cover_border_id:null,precious_moment_border_id:null});return o.jsx(s.Provider,{value:{currentBorders:t,updateBorder:(e,t)=>{r(r=>({...r,[e]:t}))},updateAllBorders:e=>{r(e)}},children:e})}let i=()=>(0,n.useContext)(s)},41476:(e,t,r)=>{"use strict";r.d(t,{FontProvider:()=>a,j:()=>i});var o=r(10326),n=r(17577);let s=(0,n.createContext)();function a({children:e}){let[t,r]=(0,n.useState)("Great Vibes"),[a]=(0,n.useState)({Inter:"var(--font-inter), sans-serif","Great Vibes":"var(--font-greatvibes), cursive","Playfair Display":"var(--font-playfair), serif",Cinzel:"var(--font-cinzel), serif",Montserrat:"var(--font-montserrat), sans-serif",Lato:"var(--font-lato), sans-serif",Caveat:"var(--font-caveat), cursive","Bebas Neue":"var(--font-bebas), cursive","Rozha One":"var(--font-rozha), serif","Pinyon Script":"var(--font-pinyon), cursive"});return o.jsx(s.Provider,{value:{currentFont:t,fontMappings:a,updateFont:e=>{r(e)}},children:e})}let i=()=>(0,n.useContext)(s)},89420:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var o=r(94464),n=r(61358);(0,n.ww)(),console.log("API Base URL:",(0,n.bR)());let s=o.Z.create({baseURL:(0,n.bR)(),headers:{"Content-Type":"application/json"},timeout:n.ZP.API.TIMEOUT});s.interceptors.request.use(e=>{let t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e}),s.interceptors.response.use(e=>e,async e=>{let t=e.config;if(console.error("API Error:",e),"ECONNABORTED"===e.code||"Network Error"===e.message){if(t.__retryCount||(t.__retryCount=0),t.__retryCount<n.ZP.API.RETRY_ATTEMPTS)return t.__retryCount+=1,console.warn(`Retrying request (${t.__retryCount}/${n.ZP.API.RETRY_ATTEMPTS})...`),await new Promise(e=>setTimeout(e,n.ZP.API.RETRY_DELAY*t.__retryCount)),s(t);console.error("Request timeout after retries - API might be down")}if(e.response?.status===401&&(console.error("❌ Authentication failed - token expired or invalid"),localStorage.removeItem("token"),localStorage.removeItem("user")),e.response?.status===403){console.error("❌ Access forbidden - you may not have permission or your session expired");let t=e.response?.data?.detail||"";(t.toLowerCase().includes("not authorized")||t.toLowerCase().includes("permission"))&&(console.warn("⚠️ Token may be expired - redirecting to login"),localStorage.removeItem("token"),localStorage.removeItem("user"))}return e.response?.status===404&&console.error("Resource not found - check API endpoint"),Promise.reject(e)});let a=s},88646:(e,t,r)=>{"use strict";r.d(t,{AuthProvider:()=>l,a:()=>d});var o=r(10326),n=r(17577),s=r(89420);let a=(0,n.createContext)({});function i(e){if(!e)return!0;let t=function(e){try{let t=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),r=decodeURIComponent(atob(t).split("").map(e=>"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)).join(""));return JSON.parse(r)}catch(e){return console.error("Failed to decode JWT:",e),null}}(e);return!t||!t.exp||1e3*t.exp-Date.now()<3e5}let l=({children:e})=>{let[t,r]=(0,n.useState)(null),[l,d]=(0,n.useState)(null),[u,c]=(0,n.useState)(!0);(0,n.useEffect)(()=>{let e=localStorage.getItem("token"),t=localStorage.getItem("user");e&&t&&(i(e)?(console.warn("⚠️ JWT token expired - clearing auth state"),localStorage.removeItem("token"),localStorage.removeItem("user"),d(null),r(null)):(d(e),r(JSON.parse(t)))),c(!1)},[]);let p=async(e,t)=>{let{access_token:o,user:n}=(await s.default.post("/api/auth/login",{email:e,password:t})).data;return localStorage.setItem("token",o),localStorage.setItem("user",JSON.stringify(n)),d(o),r(n),n},g=async(e,t,o)=>{let{access_token:n,user:a}=(await s.default.post("/api/auth/register",{email:e,password:t,full_name:o})).data;return localStorage.setItem("token",n),localStorage.setItem("user",JSON.stringify(a)),d(n),r(a),a},m=()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),d(null),r(null),window.location.href="/"},f=async()=>{try{let e=(await s.default.get("/api/auth/me")).data;return localStorage.setItem("user",JSON.stringify(e)),r(e),e}catch(e){return console.error("Failed to refresh user data:",e),e.response?.status===401&&(console.error("❌ Token invalid - logging out"),m()),null}};return(0,n.useEffect)(()=>{if(!l)return;let e=setInterval(()=>{i(l)&&(console.warn("⚠️ JWT token expired - logging out"),m())},6e4);return()=>clearInterval(e)},[l]),o.jsx(a.Provider,{value:{user:t,token:l,setToken:d,setUser:r,login:p,register:g,logout:m,refreshUser:f,loading:u,isTokenExpired:()=>i(l)},children:e})},d=()=>(0,n.useContext)(a)},61358:(e,t,r)=>{"use strict";r.d(t,{ZP:()=>i,bR:()=>s,ww:()=>a});let o=()=>!0,n={API:{BASE_URL:process.env.NEXT_PUBLIC_BACKEND_URL||process.env.REACT_APP_BACKEND_URL||process.env.NEXT_PUBLIC_API_URL||"http://localhost:8001",TIMEOUT:3e5,RETRY_ATTEMPTS:2,RETRY_DELAY:1e3},MEDIA:{PROXY_ENDPOINT:"/api/media/telegram-proxy/photos/",SUPPORTED_FORMATS:["jpg","jpeg","png","webp"],MAX_FILE_SIZE:10485760},IMAGE:{MAX_RETRIES:2,RETRY_DELAY:1e3,FALLBACK_TIMEOUT:5e3,LOADING_PLACEHOLDER:"/images/placeholder.jpg"}},s=()=>n.API.BASE_URL,a=()=>{let e=s(),t=e.includes("localhost"),r=o();return console.log("\uD83D\uDD27 Configuration Validation:",{apiBaseUrl:e,environment:r?"production":"development",isLocal:t,mediaProxy:n.MEDIA.PROXY_ENDPOINT}),r&&t&&(console.error("❌ ERROR: Production frontend using localhost backend URL!"),console.error("Update NEXT_PUBLIC_API_URL in Vercel environment variables to: https://wedlive.onrender.com")),e.includes("8000")&&console.warn("⚠️ WARNING: API base URL is using port 8000, expected 8001 for local or 443 for production"),!0},i=n},46084:(e,t,r)=>{"use strict";r.d(t,{cn:()=>s});var o=r(41135),n=r(31009);function s(...e){return(0,n.m6)((0,o.W)(e))}},73603:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>J,metadata:()=>X});var o=r(19510),n=r(88001),s=r.n(n),a=r(25989),i=r.n(a),l=r(21141),d=r.n(l),u=r(62850),c=r.n(u),p=r(41602),g=r.n(p),m=r(13558),f=r.n(m),v=r(31904),x=r.n(v),h=r(34936),b=r.n(h),P=r(46698),y=r.n(P),_=r(97250),S=r.n(_);r(67272);var w=r(68570);let j=(0,w.createProxy)(String.raw`/app/frontend/lib/auth.js`),{__esModule:I,$$typeof:R}=j;j.default;let A=(0,w.createProxy)(String.raw`/app/frontend/lib/auth.js#AuthProvider`);(0,w.createProxy)(String.raw`/app/frontend/lib/auth.js#useAuth`);let E=(0,w.createProxy)(String.raw`/app/frontend/components/ui/sonner.jsx`),{__esModule:T,$$typeof:N}=E;E.default;let C=(0,w.createProxy)(String.raw`/app/frontend/components/ui/sonner.jsx#Toaster`);(0,w.createProxy)(String.raw`/app/frontend/components/ui/sonner.jsx#toast`);let L=(0,w.createProxy)(String.raw`/app/frontend/contexts/FontContext.js`),{__esModule:k,$$typeof:B}=L;L.default;let D=(0,w.createProxy)(String.raw`/app/frontend/contexts/FontContext.js#FontProvider`);(0,w.createProxy)(String.raw`/app/frontend/contexts/FontContext.js#useFont`);let O=(0,w.createProxy)(String.raw`/app/frontend/contexts/BorderContext.js`),{__esModule:$,$$typeof:U}=O;O.default;let M=(0,w.createProxy)(String.raw`/app/frontend/contexts/BorderContext.js#BorderProvider`);(0,w.createProxy)(String.raw`/app/frontend/contexts/BorderContext.js#useBorder`);let z=(0,w.createProxy)(String.raw`/app/frontend/components/SessionExpiry.js`),{__esModule:F,$$typeof:Y}=z;z.default;let Z=(0,w.createProxy)(String.raw`/app/frontend/components/SessionExpiry.js#default`),X={title:"WedLive - Live Wedding Streaming Platform",description:"Professional live wedding streaming made simple"};function J({children:e}){return(0,o.jsxs)("html",{lang:"en",children:[o.jsx("head",{children:o.jsx("script",{dangerouslySetInnerHTML:{__html:`
              // Suppress external CORS errors that don't affect app functionality
              window.addEventListener('error', function(e) {
                // Suppress Google DoubleClick and external ad/analytics errors
                if (e.message && (
                  e.message.includes('doubleclick.net') ||
                  e.message.includes('googleads') ||
                  e.message.includes('Cross-Origin Request Blocked')
                )) {
                  e.stopImmediatePropagation();
                  e.preventDefault();
                  return false;
                }
              }, true);
              
              // Suppress unhandled promise rejections from external scripts
              window.addEventListener('unhandledrejection', function(e) {
                if (e.reason && e.reason.message && (
                  e.reason.message.includes('doubleclick.net') ||
                  e.reason.message.includes('googleads')
                )) {
                  e.stopImmediatePropagation();
                  e.preventDefault();
                  return false;
                }
              });
            `}})}),o.jsx("body",{className:`${s().className} ${s().variable} ${i().variable} ${d().variable} ${c().variable} ${g().variable} ${f().variable} ${x().variable} ${b().variable} ${y().variable} ${S().variable}`,children:o.jsx(A,{children:o.jsx(D,{children:(0,o.jsxs)(M,{children:[e,o.jsx(Z,{}),o.jsx(C,{})]})})})})]})}},67272:()=>{}};